---
title: CALVT - 2023åŠ³åŠ¨ç«èµ›ï¼ˆæ™ºèƒ½ä½“å¯¹æŠ—ï¼‰æ€»ç»“
hide: false
math: true
category:
  - coding
abbrlink: 15725
date: 2023-11-20 21:56:09
index\_img:
banner\_img:
tags:
---

> China Academy of Launch Vehicle Technology (CALVT) ä¸­å›½è¿è½½ç«ç®­æŠ€æœ¯ç ”ç©¶é™¢ï¼ˆèˆªå¤©å·¥ä¸šéƒ¨ç¬¬ä¸€ç ”ç©¶é™¢ï¼‰
>
> åŠ³åŠ¨ç«èµ›ç¯å¢ƒï¼š[ç™¾åº¦ç½‘ç›˜ - åŠ³åŠ¨ç«èµ›2023](https://pan.baidu.com/s/1y4mZfdRQbXFFtQLtEanXag?pwd=1234)
>
> å®Œæ•´ä»£ç GitHubï¼š[GitHub-Blog-file-CALVT2023](https://github.com/wty-yy/Blog-SourceCode/tree/master/source/file/CALVT2023)
> ä¹Ÿå¯ä»¥ä»ä¸Šé¢çš„ç½‘ç›˜åˆ†äº«ä¸­ä¸‹è½½ `CALVT2023_å¤ªåˆ.zip`ï¼Œè§£å‹åæ‰§è¡Œ `agent_train.py` å³å¯çœ‹åˆ°çº¢è“æ–¹æ‰§è¡Œè®¾è®¡å¥½çš„ç­–ç•¥äº†
>
> ç›¸å…³ä¾èµ–åŒ…åªæœ‰ `numpy`ï¼Œéœ€è¦ `python>=3.8`

## äº¤äº’æ–¹æ³•

**å¯åŠ¨æ¨¡æ‹Ÿå™¨**ï¼šåœ¨å¯åŠ¨è½¯ä»¶ã€Šå†³èƒœåƒé‡Œã€‹ï¼ˆ`XJ.zip`æ–‡ä»¶è§£å‹åï¼Œæ‰“å¼€`CraftGameV1.exe`ï¼‰-å¼€å§‹ä»¿çœŸ-è®­ç»ƒæ¨¡å¼-é€‰æ‹©åœ°å›¾new1-ç¡®è®¤åˆ›å»º-å¼€å§‹è®­ç»ƒï¼Œå½“å¼¹å‡ºæ–°çš„æ˜¾ç¤ºä¸–ç•Œåœ°å›¾çš„çª—å£æ—¶ï¼Œåˆ™æ¨¡æ‹Ÿå™¨å·²å‡†å¤‡å®Œæˆã€‚

**ä¼ åŒ…äº¤äº’**ï¼šPythonçš„äº¤äº’æ–¹æ³•æ˜¯é€šè¿‡æ¨¡æ‹Ÿå™¨æœ¬æœºä¸Šåˆ›å»ºçš„è™šæ‹ŸIPåœ°å€ï¼Œåˆ©ç”¨ `socket` å‘æ¨¡æ‹Ÿå™¨æ”¶å‘ä¿¡æ¯ï¼Œæ‰€æœ‰æ”¶å‘åŒ…éƒ½æ˜¯ `json` æ ¼å¼ï¼Œéœ€è¦ä½¿ç”¨ `json.loads` è½¬åŒ–ä¸º `dict` æˆ–è€…ä½¿ç”¨ `env.statusparer` è¿›è¡Œ `status` è½¬åŒ–ã€‚IPåœ°å€å’Œç«¯å£ä¸º `127.0.0.1:20001`ï¼Œåœ¨ `config` æ–‡ä»¶å¤¹ä¸‹å¯ä»¥æŸ¥åˆ°ã€‚

åœ¨ `code/input` æ–‡ä»¶å¤¹ä¸‹è®¾å®šäº†æ–‡æ¡£ä¸­æ‰€ç»™çš„å‚æ•°é…ç½®ã€‚

## çŠ¶æ€ä¿¡æ¯

ç¯å¢ƒåˆå§‹åŒ–æ–¹æ³•ï¼š

```python
IDlist = json.loads(env.Reset())   # IDlist gives red/blue team unit id names by dict, respectively.
act = []
# Each agent instance must have `deploy` func to set the default location for each unit.
act += redAgent.deploy(IDlist['RedShipID']); act += blueAgent.deploy(IDlist['BlueShipID']);
env.Step({'Action': act})  # deploy units in default location
r_state, b_state = get_states(env)  # red/blue initial state
```

### å•ä½éƒ¨ç½²

```python
# Get initial infomation from environment.
shipIDlist = env.Reset()
shipIDlist = json.loads(shipIDlist)
print("red shipIDlist:", sorted(shipIDlist['RedShipID']))
print("blue shipIDlist:", sorted(shipIDlist['BlueShipID']))
```

#### çº¢è‰²æ–¹

```python
# Armor car: deploy params=(x, y, z, pierce_num, explosive_num)
'MainBattleTank_ZTZ100_0', 'MainBattleTank_ZTZ100_1', 'MainBattleTank_ZTZ100_2', 'MainBattleTank_ZTZ100_3', # ä¸»æˆ˜å¦å…‹
'Howitzer_C100_0',  # æ¦´å¼¹ç‚® (120mm è‡ªè¡Œè¿«æ¦´ç‚®)

# Normal deploy params=(x, y, z)
'ArmoredTruck_ZTL100_0', 'ArmoredTruck_ZTL100_1',  # çªå‡»è½¦
'Infantry0', 'Infantry1',  # æ­¥å…µ
'WheeledCmobatTruck_ZB100_0', 'WheeledCmobatTruck_ZB100_1',  # è£…ç”²è½¦
'missile_truck0', 'missile_truck1', 'missile_truck2'  # å¯¼å¼¹å‘å°„è½¦
'ShipboardCombat_plane0',  # èˆ°è½½æˆ˜æ–—æœº (æ— äººå¯Ÿæ‰“ä¸€ä½“é£æœº)

'HEO_infrared_satallite2', 'redbmc3'  # æœªçŸ¥å‚æ•°
```

#### è“è‰²æ–¹

```python
# Armor car: deploy params=(x, y, z, pierce_num, explosive_num)
'MainBattleTank_ZTZ200_0', 'MainBattleTank_ZTZ200_1', 'MainBattleTank_ZTZ200_2', 'MainBattleTank_ZTZ200_3',  # ä¸»æˆ˜å¦å…‹

# Normal deploy params=(x, y, z)
'Infantry2', 'Infantry3', 'Infantry4', 'Infantry5',  # æ­¥å…µ
'WheeledCmobatTruck_ZB200_0', 'WheeledCmobatTruck_ZB200_1', 'WheeledCmobatTruck_ZB200_2', 'WheeledCmobatTruck_ZB200_3',  # è£…ç”²è½¦
'missile_truck3', 'missile_truck4', 'missile_truck5', 'missile_truck6', 'missile_truck7'  # å¯¼å¼¹å‘å°„è½¦
'ShipboardCombat_plane1'  # æ— äººå¯Ÿæ‰“ä¸€ä½“é£æœº
    
'HEO_infrared_satallite1', 'bluebmc3'  # æœªçŸ¥å‚æ•°
```

#### é…å¼¹

åªæœ‰å¦å…‹ï¼Œè¿«å‡»ç‚®éœ€è¦å¯¹ç©¿ç”²å¼¹å’Œæ€çˆ†å¼¹çš„å¼¹è¯è¿›è¡Œè®¾å®šï¼Œå…¶ä»–å…µç§æ— éœ€è®¾å®šã€‚

| æ€ä¼¤ç±»å‹                     | id                                                     | ä»å±å…µç§                     | é…å•é‡                   | å°„ç¨‹    | å†·å´ | å¯æ‰“å‡»å¯¹è±¡       |
| ---------------------------- | ------------------------------------------------------ | ---------------------------- | ------------------------ | ------- | ---- | ---------------- |
| 1é€Ÿå­å¼¹                      | `Bullet`                                               | æ­¥å…µ                         | 1500å‘æ¯äºº150å‘          | 400m    | 0s   | æ­¥å…µ             |
| 2é€Ÿå­å¼¹                      | `Bullet_ZT`                                            | è£…ç”²è½¦ï¼Œçªå‡»è½¦ï¼Œå¦å…‹ï¼Œæ¦´å¼¹ç‚® | 2500å‘                   | 700m    | 0s   | æ­¥å…µ             |
| è¿‘ç¨‹å¯¼å¼¹                     | `ShortRangeMissile`                                    | çº¢æ–¹å¯¼å¼¹å‘å°„è½¦               | 16å‘                     | 0~600km | 94s  | é™¤å¯¼å¼¹å¤–æ‰€æœ‰å•ä½ |
| æ‹¦æˆªå¯¼å¼¹                     | `LDJS_sm6`                                             | è“æ–¹å¯¼å¼¹å‘å°„è½¦               | 16å‘                     | ?       | 47s  | è¿‘ç¨‹å¯¼å¼¹         |
| ç©ºå¯¹åœ°å¯¼å¼¹                   | `AGM`                                                  | é£æœº                         | 4å‘                      | 15km    | ?    | é™†åœ°å•ä½         |
| RPG                          | `RPG`                                                  | æ­¥å…µ/çªå‡»è½¦                  | 4å‘/2å‘                  | 1000m   | 12s  | é™¤å¯¼å¼¹å¤–æ‰€æœ‰å•ä½ |
| 1/2é€Ÿç©¿ç”²å¼¹<br />1/2é€Ÿæ€çˆ†å¼¹ | `ArmorPiercingShot(_ZT)`<br />`HighExplosiveShot(_ZT)` | å¦å…‹(2é€Ÿ)ï¼Œæ¦´å¼¹ç‚®(1é€Ÿ)       | å¦å…‹å…±60å‘ï¼Œæ¦´å¼¹ç‚®å…±80å‘ | 2800m   | 8s   | é™†åœ°å•ä½         |

## é€šè§†ï¼Œè§†é‡è§„åˆ™

å•æ–¹è§†é‡å…±äº«ï¼Œä¾æ¦‚ç‡æ¢æµ‹åˆ°å¯¹æ–¹ä½ç½®ã€‚è§†é‡æ”¶åˆ°ä¸‰æ–¹é¢å½±å“ï¼š

- è§†é‡èŒƒå›´ï¼šä¸åŒçš„å•ä½æœ‰ä¸åŒçš„è§†é‡èŒƒå›´ã€‚

- åœ°å½¢ï¼šä¸›æ—å†…è¢«æ¢æµ‹åˆ°çš„æ¦‚ç‡ä¸‹é™ $20\%$ï¼Œå·¥äº‹å†…è¢«æ¢æµ‹åˆ°çš„æ¦‚ç‡ä¸‹é™ $80\%$ã€‚

- æ©è”½ï¼šå¤„äºæ©è”½çŠ¶æ€ä¸­çš„å•ä½è¢«æ¢æµ‹åˆ°çš„æ¦‚ç‡ä¸‹é™ $50\%$ã€‚

| å•ä½                                     | æ¢æµ‹åŠå¾„ | å¯æ¢æµ‹å¯¹è±¡       |
| ---------------------------------------- | -------- | ---------------- |
| è£…ç”²è½¦ï¼Œçªå‡»è½¦ï¼Œå¯¼å¼¹å‘å°„è½¦ï¼Œæ­¥å…µï¼Œæ¦´å¼¹ç‚® | 400m     | æ‰€æœ‰å•ä½         |
| å¦å…‹                                     | 2500m    | æ‰€æœ‰å•ä½         |
| é£æœº                                     | 5km      | æ‰€æœ‰å•ä½         |
| è¿‘ç¨‹å¯¼å¼¹                                 | 4km      | é™¤å¯¼å¼¹å¤–æ‰€æœ‰å•ä½ |
| ç©ºå¯¹åœ°å¯¼å¼¹                               | 4km      | é™†åœ°å•ä½         |

## æ¯ä¼¤è§„åˆ™

### æ¯ä¼¤ç­‰çº§

è½¦è¾†4ä¸ªç­‰çº§ï¼ˆä»ä½åˆ°é«˜ï¼šNæ­£å¸¸ï¼ŒMæ— æ³•ç§»åŠ¨ï¼ŒFæ— æ³•æ”»å‡»ï¼ŒKé”€æ¯ï¼‰ï¼Œæ­¥å…µ4ä¸ªç­‰çº§ï¼ˆæ­£å¸¸ã€æ­»äº¡ã€é‡ä¼¤ã€è½»ä¼¤ï¼‰ï¼Œé£æœº2ä¸ªç­‰çº§æ­£å¸¸ã€é”€æ¯ï¼‰

### æ¯ä¼¤å±æ€§

æ€çˆ†å¼¹ã€è¿‘ç¨‹å¯¼å¼¹å…·æœ‰**èŒƒå›´å‹æ€ä¼¤**ï¼Œæ¯ä¼¤èŒƒå›´åˆ†åˆ«ä¸º15må’Œ30mï¼Œå­å¼¹ã€ç©¿ç”²å¼¹åªå…·æœ‰å•ä½“æ€ä¼¤ã€‚æ­¥å…µç­æ€»å…±10äººï¼Œåªè¦æ²¡æœ‰è¢«å…¨æ­¼ï¼Œåˆ™éœ€è¦æŒ‰ç…§å‰©ä½™å•ä½æ•°é‡å¯¹å…¶è¾“å‡ºè®¡ç®—ï¼Œåªæœ‰å½“å…¨æ­¼æ—¶æ­¥å…µç­è¢«é”€æ¯ã€‚

### æ¯ä¼¤åˆ¤å®š

æ¯ä¼¤å­˜åœ¨ä¸¤ç§åˆ¤å®šæ–¹æ³•ï¼š

1. å‡»ä¸­æ¦‚ç‡ï¼šè‹¥å•ä½è¢«ç‰¹å®šæ­¦å™¨å‡»ä¸­åˆ™ç›´æ¥é”€æ¯ã€‚ï¼ˆå‡»ä¸­æ¦‚ç‡å‡ä¸º $80\%$ï¼‰
2. ç´¯è®¡æ¯ä¼¤ï¼šéœ€è¦æ ¹æ®ç‰©ç†æ¨¡æ‹Ÿç»“æœè®¡ç®—å•ä½çš„å—ä¼¤ç­‰çº§ã€‚è®¾ç¬¬ $n$ æ¬¡å¯¹å•ä½é€ æˆç­‰çº§ $X$ çš„æ¯ä¼¤æ¦‚ç‡ä¸º $T_n$ï¼Œåˆ™è¯¥å•ä½å—åˆ°ç­‰çº§ $X$ çš„ç´¯è®¡æ¯ä¼¤æ¦‚ç‡ä¸ºï¼š $P_A(n) = 1 - \prod_{i=1}^n(1-T_i)$ã€‚å½“ç´¯è®¡æ¯ä¼¤æ¦‚ç‡ $P_A > 80\%$ æ—¶ï¼Œåˆ™å•ä½å‡ºç°ç­‰çº§ $X$ çš„æ¯ä¼¤ã€‚

### æ¯ä¼¤å› ç´ 

1. åœ°å½¢ï¼šä¸›æ— $T_i\times 0.8$ï¼›æ²³æµ $T_i\times 0.7$ï¼›å·¥äº‹ $T_i\times 0.6$ã€‚
2. æ­¥å…µæ©è”½çŠ¶æ€ $T_i\times 0.9$ã€‚
3. æ­¥å…µä¸Šè½¦çŠ¶æ€ $T_i\times 0.8$ã€‚
4. è·ç¦»è¡°å‡ï¼Œä¸åŒæ­¦å™¨æ ¹æ®ä¸åŒè¡°å‡æ›²çº¿è¿›è¡Œæ¯ä¼¤æ¦‚ç‡è¡°å‡ï¼Œæœ€è¿œå¤„è¡°å‡ $T_i\times 0.4$ã€‚
5. è®¾æ­¥å…µç­äººæ•°ä¸º $n$ï¼Œåˆ™æ­¥å…µç­æ­¦å™¨å‘å‡ºçš„æ¯ä¼¤æ¦‚ç‡ä¸º $T_i\times n$ã€‚

## å°„å‡»è§„åˆ™

é™¤æ¦´å¼¹ç‚®å’Œå¯¼å¼¹å‘å°„è½¦éœ€è¦åœæ­¢çŠ¶æ€ä¸‹å°„å‡»ï¼Œå…¶ä»–å•ä½éƒ½å¯ä»¥ç§»åŠ¨ä¸­å°„å‡»ã€‚

**ç›´ç„å°„å‡»**è¦æ±‚ï¼š

1. æ­¦å™¨å°„ç¨‹èŒƒå›´å†…ä¸”ä»æœ‰å¼¹è¯é‡ã€‚
2. æ­¦å™¨ä¸å¤„äºå†·å´å½“ä¸­ã€‚

**é—´ç„å°„å‡»**è¦æ±‚ï¼š

1. å¯æ‰§è¡Œé—´ç„å°„å‡»å•ä½ä¸ºï¼šå¦å…‹å’Œæ¦´å¼¹ç‚®ã€‚
2. é—´ç„å°„å‡»å¼•å¯¼æ—¶é—´ä¸º20sï¼Œ20så†…æ— æ³•æ‰§è¡Œå…¶ä»–åŠ¨ä½œã€‚
3. æ­¦å™¨æ‰“å‡»ç‚¹ä¼šåœ¨ç›®æ ‡åœ°ç‚¹çš„20mèŒƒå›´å†…éšæœºåˆ†å¸ƒã€‚

## æ³¨æ„äº‹é¡¹

- ä¸€å›åˆ1000å¸§ï¼ˆdemoä¸­ç»™çš„æ˜¯3000å¸§ï¼Ÿï¼‰

- å¤ºæ§ç‚¹åæ ‡ `(2.71 E, 39.76 N)` ï¼ˆå¤ºæ§ç‚¹ä¸­å¿ƒåŠå¾„ **100m** å†…å¯ä»¥å¼€å§‹å¤ºæ§ï¼‰ï¼Œé™¤äº†å¯¼å¼¹å‘å°„è½¦å’Œé£æœºæ— æ³•è¿›è¡Œå¤ºæ§ï¼Œå…¶ä»–å•ä½å‡å¯æ‰§è¡Œå¤ºæ§æ“ä½œã€‚

## Q&A

1. æ— æ³•å®ç°å¤šè¿›ç¨‹æˆ–å¤šçº¿ç¨‹äº¤äº’ï¼Œå½“æ¨¡æ‹Ÿå™¨å¯åŠ¨æ•°é‡è¶…è¿‡ä¸€ä¸ªæ—¶ï¼Œå‰ä¸€ä¸ªç›´æ¥å…³é—­ã€‚ï¼ˆæ— å¤šçº¿ç¨‹/å¤šè¿›ç¨‹ï¼‰
2. æ— æ³•å…³é—­å¯è§†åŒ–ç•Œé¢ï¼Œä»¤ `env.SetRender(False)` ä»ç„¶ä¼šè¿›è¡Œæ¸²æŸ“ï¼Œç¯å¢ƒæ¨æ–­å¹³å‡å¸§æ•°ä¸åˆ° `40fps`ï¼ˆæ‰§è¡Œ `env.step(action)` å’Œ `get_states(env)`ï¼‰ã€‚ï¼ˆå¯ç›´æ¥å…³é—­å‰æ®µåœ°å›¾ç•Œé¢ï¼‰
3. å•ä½åˆå§‹åŒ–éƒ¨ç½²çš„é—®é¢˜
   1. åˆå§‹ä½ç½®é—®é¢˜ï¼šå‚è€ƒæ–‡æ¡£ä¸­åªç»™å‡ºäº†åˆå§‹éƒ¨ç½²åŒºåŸŸèŒƒå›´ä¸º $20\times 20$ï¼Œæ²¡æœ‰å…·ä½“åæ ‡ï¼Œéš¾é“æ˜¯æ•´ä¸ªå²›å±¿çš„åŒºåŸŸä¹ˆï¼Œè¿˜æ˜¯è¯´åˆå§‹éƒ¨ç½²ä½ç½®å·²ç»å›ºå®šä¸ºä»£ç ä¸­æ‰€ç»™å‡ºçš„åæ ‡ï¼Ÿï¼ˆåŸºäºå²›å±¿ä½œæˆ˜åŒºåŸŸæ¦‚ç•¥åæ ‡ï¼‰
   2. åˆå§‹é…å¼¹é—®é¢˜ï¼šå¦å…‹çš„åˆå§‹ç©¿ç”²+æ€çˆ†å¼¹æœ€å¤§ä¸Šé™æ€»å…±60å‘ï¼ˆæ¦´å¼¹å‘å°„å™¨ä¹Ÿæœ‰è¯¥é—®é¢˜ï¼‰ï¼Œdemoä¸­é»˜è®¤å‡åŒ€åˆ†é…ï¼Œæ‰€ä»¥å¯ä»¥è‡ªè¡Œé…ç½®ä¸¤ç§ç‚¸å¼¹æ•°ç›®ä¹ˆã€‚ï¼ˆå¯ä»¥è‡ªè¡Œé…ç½®å¼¹è¯é‡ï¼‰

4. å•ä½å¤ºæ§å‘½ä»¤æ˜¯ä»€ä¹ˆï¼Œè¿˜æ˜¯è¯´åªè¦å¤ºæ§ç‚¹å†…æ²¡æœ‰æ•Œæ–¹å•ä½40å¸§å°±ç®—å¤ºæ§æˆåŠŸï¼Ÿï¼ˆæ­£ç¡®ï¼‰
5. å¦å…‹å…·æœ‰ä¸¤ä¸ªæ¢æµ‹æ–¹æ³•ï¼Œè§†é‡400må’Œçº¢å¤–2500mï¼Œé‚£ä¹ˆå¦å…‹çš„æ¢æµ‹è·ç¦»å°±æ˜¯2500mï¼Œè§†é‡ç”¨äºç›´ç„å°„å‡»ï¼Ÿï¼ˆæ­£ç¡®ï¼‰
6. æ€çˆ†å¼¹å’Œè¿‘ç¨‹å¯¼å¼¹çš„Hä¼¤èŒƒå›´å…·ä½“å¤šå¤§ï¼Ÿï¼ˆ15må’Œ30mï¼‰æ‹¦æˆªå¼¹èƒ½å¦æ”»å‡»ç©ºå¯¹åœ°å¯¼å¼¹å’Œé£æœºï¼ˆç¬¬15é¢è¡¨ä¸­å±äºè¢«æ”»å‡»æ–¹ä¸­ï¼Œä½†æ˜¯å¹¶ä¸åœ¨32é¢è¡¨ä¸­çš„æ”»å‡»ç›®æ ‡ä¸­ï¼‰ï¼Ÿï¼ˆæ‹¦æˆªå¼¹åªèƒ½æ”»å‡»è¿‘ç¨‹å¯¼å¼¹ï¼‰
7. ç›´ç„å°„å‡»å’Œé—´ç„å°„å‡»åœ¨æŒ‡ä»¤ä¸­æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œåªçœ‹åˆ° `_Attack_Action` è¾“å…¥ç›®æ ‡ç»çº¬åº¦è¿›è¡Œæ‰“å‡»ã€‚è¿˜æ˜¯è¯´ç¯å¢ƒä¼šè‡ªåŠ¨åˆ¤æ–­è§†é‡å†…æ˜¯å¦å­˜åœ¨ç›®æ ‡åˆ¤æ–­æ˜¯ç›´ç„å°„å‡»è¿˜æ˜¯é—´ç„å°„å‡»ï¼Ÿï¼ˆé—´ç„å°„å‡»ä¸»è¦åŒ…å«å¼•å¯¼éƒ¨åˆ†ï¼Œéœ€è¦20sçš„é¢å¤–æ—¶é—´è¿›è¡Œå¼•å¯¼ï¼‰

# BUGs

> ä¸‹é¢è¿™äº›bugéƒ½å·²è§£å†³

## è£…ç”²è½¦ä¸Šè½¦é—®é¢˜

ä»¥è“è‰²æ–¹ä¸ºä¾‹ï¼Œdemoä¸­è£…ç”²è½¦ä¸Šçš„æ­¥å…µæ— æ³•ä¸Šè½¦ï¼Œè‡ªå·±æµ‹è¯•åä¹Ÿå‘ç°ä¸Šè½¦å‰åæŸ¥çœ‹æ­¥å…µçŠ¶æ€å­—å…¸ï¼Œå…¶å®Œå…¨æ²¡æœ‰æ”¹å˜ï¼ŒæŸ¥çœ‹å®æ—¶æ¸²æŸ“ç»“æœä¹Ÿå¯ä»¥çœ‹å‡ºï¼Œæ­¥å…µæ²¡æœ‰ååœ¨è£…ç”²è½¦ä¸Šç§»åŠ¨ã€‚

```python
# åˆå§‹åŒ–self.iftr[3]å’Œself.whc[3]ä½ç½®ç›¸åŒ
def mytest(self):
    if self.num == 100:  # ä¸Šè½¦
        print("iftr:", self.status[self.iftr[3]])  # æ£€æŸ¥æ­¥å…µçŠ¶æ€
        self._On_Board_Action(self.whc[3], self.iftr[3])
    if self.num == 150:  # è£…ç”²è½¦ç§»åŠ¨
        print("iftr:", self.status[self.iftr[3]])  # äºŒè€…çŠ¶æ€å®Œå…¨æ²¡æœ‰æ”¹å˜
        self._Move_Action(self.whc[3], 2.7, 39.7, 0)
    if self.num == 500:  # åœè½¦
        self._Change_State(self.whc[3], 1)
    if self.num == 550:  # ä¸‹è½¦
        self._Off_Board_Action(self.whc[3])
    if self.num == 600:  # æ­¥å…µç§»åŠ¨
        self._Move_Action(self.iftr[3], 2.75, 39.7, 0)
```

## é€šè§†é—®é¢˜

### é—®é¢˜1

ä¸ºä»€ä¹ˆåˆå§‹åŒ–çº¢è‰²é£æœºä½ç½®ä¸º `[2.8,39.65,1128]` ï¼ˆåœ°å›¾å³ä¸‹è§’ï¼‰ï¼Œè“è‰²å¯¼å¼¹å‘å°„è½¦ `[2.8,39.85,22]`ï¼ˆåœ°å›¾å³ä¸Šè§’ï¼‰ï¼Œä½†æ˜¯ç¬¬ä¸€æ­¥çš„ä¾¦æµ‹ç»“æœæ˜¾ç¤ºï¼Œå¯¼å¼¹å‘å°„è½¦èƒ½å¤Ÿæ£€æµ‹åˆ°é£æœºçš„ä½ç½®ï¼ŸäºŒè€…çš„è·ç¦»åº”è¯¥æœ‰ `22235.49` mï¼Œä¹Ÿå°±æ˜¯22kmå·¦å³ï¼Œä½†æ‰‹å†Œä¸Šç»™çš„æ¢æµ‹è·ç¦»åªæœ‰4kmï¼Œè¯·é—®è¿™æ˜¯æ€ä¹ˆæ£€æµ‹åˆ°çš„å‘¢ï¼Ÿ

### é—®é¢˜2

ä¸ºä»€ä¹ˆä¸¤ä¸ªå¦å…‹çš„æ— æ³•ç›¸äº’æ£€æµ‹åˆ°å¯¹æ–¹ï¼Œæˆ‘å°†ä¸¤æ–¹çš„å¦å…‹åˆ†åˆ«é€‰ä¸€ä¸ªåˆå§‹åŒ–åœ°å›¾ä¸­é—´ï¼Œç›¸è·100ç±³è·ç¦»ï¼Œå…·ä½“åæ ‡ä¸ºçº¢è‰² `[2.7, 39.75, 250]` è“è‰² `[2.701166, 39.749973, 224]`ï¼Œä½†äºŒè€…æ— æ³•æ£€æµ‹åˆ°å¯¹æ–¹ï¼Ÿ

# ç®—æ³•è®¾è®¡

å°†æ•´ä¸ªä»»åŠ¡åˆ†ä¸ºä¸‰ä¸ªå¤§ç±»ï¼š`BaseAgent`ï¼ˆæ€»æŒ‡æŒ¥éƒ¨ï¼‰ï¼Œ `UnitAgent`ï¼ˆéƒ¨é˜Ÿå•ä½ï¼‰ï¼Œ`UnitControler`ï¼ˆéƒ¨é˜Ÿç­–ç•¥æ§åˆ¶ï¼‰ï¼›ä»¥åŠå¯¹å¸¸é‡çš„è®°å½•ï¼š`constant.py`ã€‚

## åŸºæœ¬æ€è·¯

ç”±äºç¬¬ä¸€æ¬¡å‚åŠ è¯¥æ¯”èµ›ï¼Œæ‰€ä»¥æ²¡æœ‰è€ƒè™‘è¿‡å¤šçš„ç­–ç•¥ï¼Œåªæ˜¯å¯¹æ¯ä¸ªå•ä½çš„æ”»å‡»å’Œè¿åŠ¨æ–¹å¼è¿›è¡Œäº†è®¾å®šï¼Œæ”»å‡»ç­–ç•¥åªæ˜¯æœ€ç®€å•çš„è·Ÿè¸ª+æ‰“å‡»ï¼Œå¤ºæ§ç­–ç•¥å°±æ˜¯ä¿æŒä¸€ç›´å­˜åœ¨ä¸€ä¸ªå•ä½ä½äºå¤ºæ§èŒƒå›´ä¹‹å†…ï¼ˆå½“ä¸Šä¸€ä¸ªå•ä½è¢«å‡»è´¥æ—¶ï¼Œä¸‹ä¸€ä¸ªå•ä½è¡¥å……å…¶ä½ç½®ï¼‰ã€‚

> è¿™æ¬¡æ¯”èµ›ä¸­ï¼Œæˆ‘æ²¡æœ‰ç”¨åˆ°æ­¥å…µçš„RPGï¼Œå› ä¸ºæ­¥å…µè¿‡äºå®¹æ˜“é˜µäº¡ï¼Œæ‰€ä»¥æ‰€æœ‰æ—¶åˆ»éƒ½åœ¨è£…ç”²è½¦ä¸Šï¼Œä¸»è¦æ”»å‡»æ‰‹æ®µä¸ºå¦å…‹ã€é£æœºçš„å¯¼å¼¹å’Œçªå‡»è½¦ä¸Šçš„RPGï¼Œæ‰€ä»¥é£æœºåŸºæœ¬ä¸Šæ˜¯æ— æ³•è¢«æ”»å‡»åˆ°çš„ã€‚

`UnitAgent` ç”¨äºå¯¹æ¯ä¸ªéƒ¨é˜Ÿå•ä½è¿›è¡Œæ§åˆ¶ï¼Œå…¶æ ¸å¿ƒç®—æ³•æŒ‡ä»¤åŒ…å«ï¼ˆæ›´å¤šæ–¹æ³•è¯·è§ä¸‹æ–‡ï¼‰ï¼š

- æ”»å‡»ç›®æ ‡ `attack`ï¼šéœ€æŒ‡å®šæ‰€é€‰çš„æ­¦å™¨ï¼Œåˆ¤æ–­è¯¥æ­¦å™¨æ˜¯å¦è¿˜æœ‰å‰©ä½™å¼¹è¯ï¼Œè‹¥æœ‰åˆ™è¿›è¡Œå‘å°„ã€‚

- å¸¦æœ‰Gausså™ªå£°çš„æŒ‡å‘æ€§ç§»åŠ¨ `move_target`å’Œå¸¦æœ‰Gausså™ªå£°çš„ç»•åœˆç§»åŠ¨ `move_circle`ï¼šè¿™ä¸¤ç§ç§»åŠ¨éƒ½æ˜¯é€šè¿‡å·®åˆ†æ–¹å¼å®ç°ï¼Œå³å…ˆè®¡ç®—å‡ºç›®æ ‡æ–¹å‘å‘é‡ï¼Œç„¶åå¯¹è¯¥å‘é‡åŠ å…¥å¸¦æœ‰Gausså™ªå£°çš„å¤¹è§’æ„å»ºå‡ºæ—‹è½¬çŸ©é˜µï¼Œå¯¹è¯¥æ–¹å‘å‘é‡ä½œç”¨è¯¥æ—‹è½¬çŸ©é˜µå¾—åˆ°å¸¦æœ‰å™ªå£°çš„ç›®æ ‡æ–¹å‘ï¼Œä»éƒ¨é˜Ÿçš„å½“å‰ä½ç½®æ²¿ç€å¸¦æœ‰å™ªå£°çš„ç›®æ ‡æ–¹å‘ï¼Œæ±‚å‡ºç›¸å·®100må¤„çš„ä½ç½®å°±æ˜¯å½“å‰æ­¥çš„ç§»åŠ¨ç›®æ ‡ã€‚

`UnitControler` ç”¨äºå¯¹ `UnitAgent` æ¯ä¸€æ­¥çš„è¡Œä¸ºè¿›è¡Œå†³ç­–ï¼Œæ€»å…±æœ‰ä¸‰ç§ä¸åŒçš„å†³ç­–çŠ¶æ€ï¼ˆå­ç±»ï¼‰ï¼š

- è·¯å¾„å·¡é€» `Seach`ï¼šå›ºå®šä¸€ä¸ªå·¡èˆªè·¯çº¿  `path`ï¼Œéƒ¨é˜Ÿå•ä½åœ¨è¯¥è·¯çº¿ä¸Šè¿›è¡Œå¾€å¤å·¡é€»ä¾¦å¯Ÿã€‚
- å®šç‚¹å·¡é€» `Patrol`ï¼šå›ºå®šä¸€ä¸ªç‚¹ï¼Œä½¿å¾—è¯¥éƒ¨é˜Ÿèƒ½åŸºäºè¯¥ç‚¹ä¸ºåœ†å¿ƒè¿›è¡Œåœ†å‘¨è¿åŠ¨ã€‚
- è·Ÿè¸ªæ‰“å‡» `Follow`ï¼šé¦–å…ˆåŸºäºidå»è·Ÿè¸ªä¸€ä¸ªç›®æ ‡ï¼Œåœ¨è·Ÿè¸ªçŠ¶æ€ä¸‹å…ˆå‘ç›®æ ‡æœ€åå‡ºç°çš„ä½ç½®è¿›è¡Œç§»åŠ¨ï¼Œç„¶åå½“ç›®æ ‡é™æ­¢æ—¶ï¼Œä¿æŒæ”»å‡»è·ç¦»èŒƒå›´å†…çš„åœ†å‘¨è¿åŠ¨ï¼Œä¿æŒè‡ªèº«ç§»åŠ¨æ—¶å¯¹å…¶å®Œæˆæ”»å‡»ï¼Œç›´åˆ°è¯¥ç›®æ ‡ä»ä¾¦æµ‹å™¨ä¸Šæ¶ˆå¤±ï¼Œåœæ­¢æ‰“å‡»ï¼Œç”±æ€»æŒ‡æŒ¥åˆ‡æ¢å…¶è¿›å…¥ä¸‹ä¸€ä¸ªçŠ¶æ€ã€‚

`BaseAgent` æ€»æŒ‡æŒ¥ï¼Œå¯¹äºçº¢è“æ–¹åˆ†åˆ«æœ‰ä¸¤ä¸ªå­ç±» `RedAgent` å’Œ `BlueAgent`ï¼Œå…¶ä½œç”¨ä¸ºï¼š

1. æ€»æŒ‡æŒ¥å®Œæˆå¯¹æ¯ä¸ªå•ä½çš„åˆå§‹ä½ç½®ã€é…å¼¹é‡éƒ¨ç½²ï¼ˆæœ€ç»ˆæ¯”èµ›æ—¶ç”±ä¸»åŠæ–¹çš„ç¨‹åºå®Œæˆï¼‰
2. æ€»æŒ‡æŒ¥å®Œæˆå¯¹æ¯ä¸ªå•ä½åˆå§‹ç­–ç•¥çš„å†³å®šï¼Œå¦å…‹æ‰§è¡Œæœå¯»å·¥ä½œï¼Œç§»é€Ÿå¿«çš„å•ä½ï¼ˆè£…ç”²è½¦ã€å¯¼å¼¹å‘å°„è½¦ï¼‰æ‰§è¡Œå¤ºæ§ä»»åŠ¡ï¼Œå¤šä½™å•ä½åˆ†åˆ«åœ¨ä¸åŒåŒºåŸŸè¿›è¡Œå·¡é€»ã€‚
3. å¦‚æœä¾¦æµ‹åˆ°å¯¹æ–¹å•ä½ï¼Œåˆ™æ€»æŒ‡æŒ¥ä»å½“å‰æ‰€æœ‰çš„ç©ºä½™éƒ¨é˜Ÿï¼ˆæ‰§è¡Œå·¡é€»å·¥ä½œä¸”éå¤ºæ§ï¼‰ä¸­é€‰å‡ºå…·æœ‰æ‰“å‡»è¯¥ç›®æ ‡çš„å•ä½ï¼Œå°†å…¶çŠ¶æ€è½¬åŒ–ä¸ºè·Ÿè¸ªæ‰“å‡»çš„çŠ¶æ€ã€‚

> å¦‚æœæ˜¯çº¢è‰²æ”¾æœ‰å¯¼å¼¹å‘å°„è½¦ï¼Œåˆ™ç›´æ¥å‘å¤ºæ§ç‚¹è¿›è¡Œå¾ªç¯è½°ç‚¸ï¼Œå› ä¸ºå¯¼å¼¹å¯ä»¥åœ¨ä¸€å®šèŒƒå›´å†…è‡ªåŠ¨å¯»æ‰¾å¯æ‰“å‡»ç›®æ ‡ï¼Œæ‰€ä»¥æ— éœ€æ“æ§ï¼Œå°±å¾ˆå®¹æ˜“æ‰“å‡»åˆ°æ•Œæ–¹ã€‚

ä¸‹é¢åˆ†åˆ«å¯¹æ¯ä¸ªä»£ç åŠŸèƒ½è¿›è¡Œä»‹ç»ï¼š

## Constant å¸¸é‡

ç”±äºé»˜è®¤çš„éƒ¨é˜Ÿidå®åœ¨è¿‡äºå¤æ‚ï¼Œæ‰€ä»¥é¦–å…ˆå°†åç§°è¿›è¡Œç®€åŒ–ï¼š

```python
name2aux = {
  'tank': 'MainBattleTank',
  'howitzer': 'Howitzer',
  'infantry': 'Infantry',
  'armor': 'ArmoredTruck',
  'wheel': 'WheeledCmobatTruck',
  'missile': 'missile_truck',
  'plane': 'ShipboardCombat_plane',
}
```

è®°å½•ä¸åŒéƒ¨é˜Ÿçš„åˆå§‹åŒ–é…å¼¹é‡ä¿¡æ¯ `weapon_unit_init`ï¼Œä¸åŒå­å¼¹çš„æ”»å‡»èŒƒå›´ `bullet_range`ï¼Œåœ°å›¾è¾¹è§’ `map_corner`ï¼Œç›®æ ‡å¤ºæ§ç‚¹ `target_lla`ï¼Œçº¢è“æ–¹çš„åˆå§‹åŒ–åæ ‡ç‚¹ `red_initial_lla`, `blue_initial_lla`ï¼Œä¸åŒéƒ¨é˜Ÿçš„æ£€æµ‹èŒƒå›´ `detection_range`ï¼Œå›ºå®šçš„ä¸€äº›å·¡é€»ç‚¹ã€å·¡é€»è·¯å¾„ `patrol_point`, `search_path`ï¼Œåˆ†åˆ«ç¡®å®šçº¢è“æ–¹çš„åˆå§‹ç­–ç•¥ `red_init_controler`, `blue_init_controler`ã€‚

åŒ…å«ä¸¤ä¸ªå‡½æ•°ï¼š

- `check_in_boundary`ï¼šåˆ¤æ–­å•ä½æ˜¯å¦è¶…å‡ºè¾¹ç•Œã€‚
- `check_weapon2target`ï¼šåˆ¤æ–­æ­¦å™¨ç±»åˆ«æ˜¯å¦å¯ä»¥æ”»å‡»åˆ°ç›®æ ‡ã€‚

## BaseAgent æ€»æŒ‡æŒ¥

`BaseAgent` å…·æœ‰ä¸¤ä¸ªå­ç±» `RedAgent` å’Œ `BlueAgent` åˆ†åˆ«ä¸ºçº¢æ–¹å’Œè“è‰²æ–¹çš„æ€»æŒ‡æŒ¥ã€‚`BaseAgent` ç±»éœ€è¦ç»´æŠ¤ä»¥ä¸‹å‚æ•°ï¼š

- `units`, `units_flatten`, `units_id`ï¼š`units` ä¸ºå­—å…¸ï¼Œkeyä¸ºéƒ¨é˜Ÿçš„ç®€ç§°ï¼Œvalueä¸ºåŒ…å«å±äºè¯¥ç®€ç§°çš„æ‰€æœ‰éƒ¨é˜Ÿçš„ `UnitAgent` åˆ—è¡¨ã€‚å…¶ä½™ä¸¤ä¸ªæ˜¯ `units` çš„ä¸¤ç§ä¸åŒå½¢å¼ã€‚
- `cmd`ï¼šåˆ—è¡¨ï¼Œè®°å½•å½“å‰æ€»æŒ‡æŒ¥äº§ç”Ÿçš„æŒ‡ä»¤ï¼ŒåŒ…å«æ‰€æœ‰çš„éƒ¨é˜Ÿäº§ç”Ÿçš„æŒ‡ä»¤ã€‚
- `step_num`ï¼šè®°å½•å½“å‰çš„æ€»æ­¥æ•°ï¼Œç”¨äºåšåŸºäºæ—¶é—´çš„ç­–ç•¥å˜åŒ–å†³å®šã€‚
- `state`ï¼šå½“å‰ç¯å¢ƒè¿”å›çš„çŠ¶æ€å­—å…¸ã€‚
- `detection`ï¼šå½“å‰æ—¶åˆ»æ‰€æ£€æµ‹åˆ°çš„æ‰€æœ‰çš„å•ä½ã€‚
- `detection_history`ï¼šæŒ‰ç…§æ•Œæ–¹idï¼Œè®°å½•æ¯ä¸ªå•ä½ä¸Šä¸€ä¸ªè¢«ä¾¦æµ‹åˆ°çš„ä½ç½®å’Œæ—¶åˆ»ã€‚
- `detection_forget_time`ï¼šé—å¿˜æ—¶é—´ï¼Œå½“æ•Œæ–¹idè¿ç»­æ¶ˆå¤±è¶…è¿‡è¿™ä¸ªæ—¶åˆ»ï¼Œåˆ™æ”¾å¼ƒå¯¹å…¶è·Ÿè¸ªã€‚

ç±»æ–¹æ³•ï¼š

- `deploy`ï¼šåˆå§‹åŒ–éƒ¨ç½²éƒ¨é˜Ÿï¼ˆåªåœ¨è‡ªå·±æµ‹è¯•æ—¶ä½¿ç”¨ï¼Œæ¯”èµ›æ—¶ç”±ä¸»åŠæ–¹è¿›è¡Œåˆå§‹åŒ–ï¼‰
- `update_state`ï¼šç”¨å½“å‰ç¯å¢ƒè¿”å›çš„ `state` æ›´æ–°å½“å‰çŠ¶æ€ï¼Œæ¯ä¸ª `units` ä¸­çš„æ‰€æœ‰å•ä½æ›´æ–°è‡ªèº«çš„å‚æ•°ï¼Œ`BaseAgent` æ›´æ–° `detection_history`ï¼Œå¹¶åˆ¤æ–­æ˜¯å¦æœ‰æ–°çš„æ•Œæ–¹ç›®æ ‡å‡ºç°ï¼Œæœ‰æ—§çš„å•ä½è¢«é—å¿˜ï¼ŒåŸºäºæ­¤ä¿®æ”¹æ¯ä¸ªå•ä½çš„çŠ¶æ€ã€‚

## UnitAgent éƒ¨é˜Ÿå•ä½

`UnitAgent` å°±æ˜¯å¯¹æ¯ä¸ªéƒ¨é˜Ÿå•ç‹¬è¿›è¡Œæ§åˆ¶çš„ç±»ï¼Œå­˜å‚¨åœ¨æ€»æŒ‡æŒ¥ä¸­çš„ `units` ä¸­ï¼Œå¯ä»¥è¢« `UnitControler` æ§åˆ¶ã€‚éœ€è¦ç»´æŠ¤çš„å‚æ•°åŒ…å«ï¼š

- `name`, `id`ï¼šå½“å‰éƒ¨é˜Ÿçš„åç§°ç¼©å†™å’Œå®Œæ•´ç¼–å·ã€‚
- `weapons`ï¼šå­—å…¸ç±»å‹ï¼Œkeyä¸ºæ­¦å™¨åç§°ï¼Œvalueå­˜å‚¨ç›®å‰å‰©ä½™çš„å¼¹è¯é‡å’Œå†·å´cdã€‚
- `position`, `position_last`ï¼šå½“å‰éƒ¨é˜Ÿçš„åæ ‡ä½ç½®ï¼ŒåŠä¸Šä¸€ä¸ªæ—¶åˆ»æ—¶éƒ¨é˜Ÿçš„åæ ‡ä½ç½®ã€‚
- `alive`ï¼šè¡¨ç¤ºå½“å‰éƒ¨é˜Ÿæ˜¯å¦å­˜æ´»ã€‚
- `cmd`ï¼šè¯¥åˆ—è¡¨å’Œä»å±çš„æ€»æŒ‡æŒ¥ç›¸åŒï¼Œç”¨äºæ·»åŠ æŒ‡ä»¤ã€‚
- `controler`ï¼šå½“å‰å•ä½æ§åˆ¶çš„ç­–ç•¥ `Controler`ï¼Œæ˜¯ `SearchControler`, `PatrolControler`, `FollowControler` ä¸‰è€…ä¹‹ä¸€ã€‚
- `last_patrol_controler`ï¼šä¹‹å‰æœ€åä¸€ä¸ªå·¡é€»çš„æ§åˆ¶ç­–ç•¥ï¼Œç”¨äºæ”»å‡»ç­–ç•¥å®Œæˆç»§ç»­è¿›è¡Œå·¡é€»ã€‚
- `rotation_direction`ï¼šè¡¨ç¤ºå½“å‰åšåœ†å‘¨è¿åŠ¨æ˜¯é¡ºæ—¶é’ˆè¿˜æ˜¯é€†æ—¶é’ˆæ–¹å‘ï¼Œç”¨äºé¿å…å¡åˆ°åœ°å›¾è¾¹ç•Œå¤„æ— æ³•ç§»åŠ¨ã€‚

ç±»æ–¹æ³•ï¼š

- `deploy`ï¼šå½“å‰å•ä½éƒ¨ç½²ï¼ˆåªåœ¨è‡ªå·±æµ‹è¯•æ—¶ä½¿ç”¨ï¼Œæ¯”èµ›æ—¶ç”±ä¸»åŠæ–¹è¿›è¡Œåˆå§‹åŒ–ï¼‰
- `move_target`, `move_circle`ï¼šåˆ†åˆ«ä¸ºå¸¦æœ‰Gausså™ªå£°çš„å®šç‚¹ç§»åŠ¨å’Œåœ†å‘¨è¿åŠ¨ï¼Œå…·ä½“å®ç°æ–¹æ³•è¯·è§ä¸Šæ–‡åŸºæœ¬æ€è·¯éƒ¨åˆ†ã€‚
- `attack`, `find_attack_weapon`ï¼šæ”»å‡»ç›®æ ‡ï¼ŒåŠä»å½“å‰å¯ç”¨æ­¦å™¨ä¸­é€‰å–å¯æ‰“å‡»çš„æ­¦å™¨ã€‚
- `update`ï¼šæ›´æ–°å½“å‰å•ä½çš„çŠ¶æ€ï¼Œä¾‹å¦‚æ­¦å™¨çŠ¶æ€ã€å•ä½æ˜¯å¦å­˜æ´»ã€ä½ç½®ä¿¡æ¯ã€‚
- `reset`ï¼šé‡ç½®å…¨éƒ¨çŠ¶æ€ã€‚
- `change_state`ï¼šæ‰§è¡ŒçŠ¶æ€çš„è½¬åŒ–ï¼Œ0,1,2åˆ†åˆ«è¡¨ç¤ºç§»åŠ¨ã€åœæ­¢ã€éšè”½çŠ¶æ€ã€‚
- `on_board_action`, `off_board_action`ï¼šæ­¥å…µçš„ä¸Šè½¦åŠä¸‹è½¦æ“ä½œã€‚

## Controler å•ä½çš„ç­–ç•¥æ§åˆ¶

`Controler` åŒ…å«ä¸‰ä¸ªå­ç±» `SearchControler` è·¯å¾„å·¡é€»ï¼Œ`PatrolControler` å®šç‚¹å·¡é€»ï¼Œ`FollowControler` è·Ÿè¸ªæ‰“å‡»ï¼Œæ¯ä¸ªå­ç±»åŠŸèƒ½è¯·è§ä¸Šæ–‡**åŸºæœ¬æ€è·¯**éƒ¨åˆ†ï¼Œå­ç±»çš„å…·ä½“ä¸éš¾å®ç°ï¼Œä¸è¯¦ç»†è¯´æ˜ã€‚ä¸‹é¢ä»‹ç» `Controler` éœ€è¦ç»´æŠ¤çš„å‚æ•°ï¼š

- `unit`, `aux_unit`ï¼šä¸»æ§å•ä½ã€é™„åŠ å•ä½ï¼Œè¿™é‡Œçš„é™„åŠ å•ä½åªèƒ½æ˜¯æ­¥å…µå•ä½ï¼Œè¿™é‡Œå°†è£…ç”²è½¦å’Œæ­¥å…µè§†ä¸ºä¸€ä¸ªæ•´ä½“è¿›è¡Œæ§åˆ¶ã€‚
- `mode`ï¼šå­—ç¬¦ä¸²ï¼ŒæŒ‡å½“å‰æ¨¡å¼ `search, patrol, follow` å…¶ä¸­ä¸€ä¸ªã€‚
- `boarding`ï¼šå¦‚æœ `unit` ä¸ºè£…ç”²è½¦ï¼Œåˆ™å¯ä»¥åˆ¤æ–­å…¶æ˜¯å¦è½½æœ‰æ­¥å…µã€‚

éœ€å…·ä½“å®ç°çš„æ–¹æ³•ï¼š

- `step(detection)`ï¼šåŸºäºå½“å‰ä¾¦æµ‹çš„ä¿¡æ¯ï¼Œç»™å‡ºå½“å‰å•ä½çš„å…·ä½“è¡Œä¸ºï¼Œä¾‹å¦‚ç§»åŠ¨æˆ–è€…æ‰“å‡»ã€‚
- `update_boarding_state`ï¼šæ›´æ–°æ˜¯å¦è½½æœ‰æ­¥å…µçš„ä¿¡æ¯ã€‚
- `board`ï¼šæ­¥å…µä¸Šè½¦æ“ä½œï¼Œè‹¥äººè½¦è·ç¦»è¶…è¿‡200ç±³ï¼Œåˆ™è½¦å‘äººè¿›è¡Œç§»åŠ¨ï¼›å¦åˆ™ï¼Œæ‰§è¡Œä¸Šè½¦æŒ‡ä»¤ã€‚

## æ€»ç»“

æ²¡æœ‰è®¾è®¡è¿‡äºå¤æ‚çš„ç­–ç•¥ï¼Œå¯ä»¥æ”¹è¿›çš„åœ°æ–¹è¿˜æœ‰å¾ˆå¤šï¼Œä¾‹å¦‚

- ç§»åŠ¨æ“ä½œå®¹æ˜“é‡åˆ°éš¾ä»¥æ”€çˆ¬çš„é«˜åº¦å°±ä¼šå¡ä½ï¼Œåªèƒ½é éšæœºå™ªå£°è¿›è¡Œè°ƒæ•´ï¼›
- æ˜¯å¦å¯èƒ½åœ¨å¯¹æ–¹å•ä½å¤„äºç§»åŠ¨çŠ¶æ€æ˜¯å¯¹å…¶è¿›è¡Œæ‰“å‡»ï¼›
- å¯¹çº¢æ–¹çš„å¯¼å¼¹å‘å°„è½¦çš„ç­–ç•¥è¿›è¡Œæå‡ï¼Œè€Œä¸æ˜¯å¾ªç¯å®šç‚¹è½°ç‚¸ï¼›
- å¯¹æ­¥å…µåŠ å…¥ä¸‹è½¦æ”»å‡»çš„ç­–ç•¥ï¼Œè€Œéä¸€ç›´èº²åœ¨è½¦é‡Œï¼›
- å¯¹æ€»æŒ‡æŒ¥åŠ å…¥æ›´ä¼˜çš„æ”»å‡»é¡ºåºï¼Œè€Œéä¾¦æµ‹åˆ°å°±ç›´æ¥æ´¾å…µè·Ÿè¸ªæ‰“å‡»ã€‚

ç¬¬ä¸€æ¬¡æ‰“æ¯”èµ›æ‹¿äº†ä¸ªäºšå†›ï¼Œæ„Ÿè§‰è¿˜æ˜¯æœ‰æ‰€æ”¶è·å§ï¼ğŸ˜†

> å¯æƒœåœ¨å†³èµ›æ—¶å€™ï¼Œåº”è¯¥æ˜¯å®šç‚¹å·¡èˆªåæ ‡å‡ºäº†é—®é¢˜ï¼Œæ‰€æœ‰çš„è£…ç”²è½¦éƒ½å¡åœ¨äº†åœ°å›¾è¾¹ç¼˜å¤„ï¼Œå¯¼è‡´å¤ºæ§å•ä½è¢«å‡»è´¥åï¼Œæ²¡æœ‰å•ä½ç»§ç»­å¡«è¡¥ï¼Œçº¢è‰²æ–¹å¤±è´¥ï¼Œå¯¼è‡´æœ€ç»ˆå¤±è´¥ã€‚
