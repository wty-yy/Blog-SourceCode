---
title: ä»é›¶é…ç½®Ubuntuå…¨è¿‡ç¨‹
hide: false
math: true
category:
  - Linux
abbrlink: 46722
date: 2023-04-01 01:28:49
index\_img: 
banner\_img: 
tags:
---

> UPDATE: 2024.6.12.åŠ å…¥æ˜Ÿç«å•†åº—å®‰è£…ç¨‹åº
> UPDATE: 2024.11.16.åŠ å…¥Ubuntu24.04ç›¸å…³å†…å®¹
> UPDATE: 2025.7.9.åŠ å…¥å†…æ ¸åˆ‡æ¢å’Œæ‰‹åŠ¨å®‰è£…Nvidiaé©±åŠ¨
> UPDATE: 2025.9.11.åŠ å…¥è‡ªå¯åŠ¨é…ç½®ç®€åŒ–, Clash for Windowså›¾æ ‡ä¸‹è½½åœ°å€, Firefoxçš„aptç‰ˆé‡è£…
> UPDATE: 2025.10.10.åŠ å…¥Nvidiaé©±åŠ¨å®‰è£…å®‰å…¨å¯åŠ¨å‡­è¯

# My Ubuntu

ç¬¬ä¸€æ¬¡å®‰è£… Ubuntu22.04 LTS è®°å½•ä¸‹å®‰è£…é‡åˆ°çš„é—®é¢˜å’Œè§£å†³æ–¹æ³•ã€‚

![Ubuntu22.04 Orchisä¸»é¢˜æ¡Œé¢](/figures/My_Ubuntu.assets/Ubuntuä¸»é¢˜æ¡Œé¢.png)

![Ubuntu22.04é…ç½®åæ•ˆæœå›¾](/figures/My_Ubuntu.assets/Ubuntué…ç½®åæ•ˆæœå›¾.png)

å½“å‰Ubuntuå·²ç»èƒ½å¤Ÿå®Œç¾æ”¯æŒå¾®ä¿¡(åŸç”Ÿ)å’ŒQQ(åŸç”Ÿ)äº†ï¼Œæ–‡æ¡£å¤„ç†ä½¿ç”¨WPSå®Œå…¨è¶³å¤Ÿï¼Œå·²ç»è¾¾åˆ°æ—¥å¸¸åŠå…¬æ‰€éœ€çš„å…¨éƒ¨è¦æ±‚ï¼Œè¿˜æœ‰æ›´é«˜æ•ˆçš„ä»£ç è¿è¡Œé€Ÿåº¦ğŸ˜†ï¼ˆæˆ‘çš„æ¯•è®¾å°±å®Œå…¨æ˜¯åœ¨Ubuntu24.04ä¸Šå®Œæˆçš„ï¼‰

![Ubuntu24.04é…ç½®åæ•ˆæœå›¾](/figures/My_Ubuntu.assets/Ubuntu24.04.png)

åˆšå®‰è£…å¥½æ–°ç³»ç»Ÿåï¼Œæ‰§è¡Œ `sudo apt update && sudo apt upgrade` å…ˆå°†æ‰€æœ‰çš„è½¯ä»¶æ›´æ–°å¥½ï¼Œç„¶åé‡å¯

**å®‰è£…å†…å®¹ï¼ˆæ¨èé¡ºåºå®‰è£…ï¼‰**ï¼š

1. ä¸­æ–‡è¾“å…¥æ³•ï¼ˆä½¿ç”¨Fcitx5ä¸­çš„pinyinï¼Œæ³¨æ„å¦‚æœåŠ¨æ€é“¾æ¥åº“ç‰ˆæœ¬è¿‡é«˜è¯·ä½¿ç”¨ `aptitude` è¿›è¡Œé€‚å½“é™çº§ï¼Œå¦‚æœä½¿ç”¨çš„æ˜¯Ubuntu20.04æ˜¯æ— æ³•å®‰è£…Fcitx5çš„ï¼Œæ¨èä½¿ç”¨æœç‹—è¾“å…¥æ³•ï¼Œæ•ˆæœä¹Ÿä¸é”™ï¼‰
2. ä¸»é¢˜è‡ªå®šä¹‰ï¼ˆå®‰è£… `gnome-tweaks` å’Œ `chrome-gnome-shell` ç”¨äºä¸»é¢˜é…ç½®ï¼‰
3. é…ç½®ç»ˆç«¯ï¼ˆå®‰è£…vim, gitï¼Œå¹¶å¯¹gitè¿›è¡Œsshæ–‡ä»¶é…ç½®ï¼Œzsh, oh-my-zshï¼Œé…ç½®vimï¼Œç›´æ¥ä»æˆ‘çš„ [dotfiles](https://github.com/wty-yy/dotfiles) ç„¶åç›´æ¥æ‰§è¡Œ `./setup.sh` ï¼‰
4. Clash for Windows
5. å®‰è£…æ˜Ÿç«å•†åº—ï¼Œä»è€Œå®‰è£…QQï¼Œå¾®ä¿¡ï¼Œç½‘æ˜“äº‘ï¼ŒWPSç­‰ç­‰è½¯ä»¶
6. å®‰è£…LaTeXï¼ˆLaTeXé€Ÿåº¦æ˜¯Windowsä¸Šçš„æ•°å€ï¼Œç¼–è¯‘å¤šé•¿çš„æ–‡ä»¶éƒ½æ˜¯ä¸€ç§’ä¸åˆ°ï¼‰
7. å®‰è£…g++, mambaforge
8. å®‰è£…Blogé…ç½®ï¼ˆå®‰è£…nvmï¼Œnodejsï¼Œnpmï¼Œcnpmï¼Œhexoï¼‰
9. å®‰è£…TensorFlowå’ŒJupyterï¼Œé…ç½®Jupyterä¸»é¢˜ã€matplotlibå­—ä½“

## UbuntuåŸºç¡€çŸ¥è¯†

LinuxåŸºç¡€è·¯å¾„è§£é‡Šå’Œvimçš„åŸºç¡€ç”¨æ³•å¯ä»¥å‚è€ƒBlogä¸­çš„ [åœ¨æœåŠ¡å™¨ä¸Šé…ç½®shell - LinuxåŸºç¡€çŸ¥è¯†](https://wty-yy.space/posts/10409/#linux%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86) éƒ¨åˆ†ã€‚

### ä¸‹è½½å‘½ä»¤

#### å®‰è£…å®‰è£…åŒ…
> å¯ä»¥å¯¹Ubuntuå®‰è£…åŒ…ä¸‹è½½åœ°å€æ¢æºï¼Œ[æ¸…åæºå®˜ç½‘](https://mirrors.tuna.tsinghua.edu.cn/help/ubuntu/)ä¸­æ–¹æ³•å†™çš„éå¸¸æ¸…æ¥šï¼ˆè®°å¾—å¤‡ä»½ï¼‰

Ubuntuçš„å®‰è£…åŒ…åç¼€ä¸€èˆ¬ä¸º `.deb` å¯ä»¥ä½¿ç”¨

```sh
sudo apt install ./package.deb  # å¯èƒ½å‡ºç°å¯è§†åŒ–çª—å£ï¼Œéœ€è¦é€šè¿‡ tab é€‰ä¸­ ok æŒ‰é’®ï¼Œç„¶å enter å›è½¦
sudo dpkg -i package.deb  #  ç›´æ¥å®‰è£…
```

Ubuntuçš„å®‰è£…æœ‰ `apt` å’Œ `apt-get` ä¸¤ç§ï¼ŒæŸ¥çœ‹å…¨éƒ¨å®‰è£…åŒ…å’Œå¸è½½å®‰è£…åŒ…æ–¹æ³•å¦‚ä¸‹

```sh
sudo apt list | grep fcitx  # æŸ¥çœ‹å…¨éƒ¨åŒ…å« fcitx åç§°çš„å®‰è£…åŒ…
# æ¨èä½¿ç”¨ purge å¯ä»¥åˆ é™¤ç›¸å…³çš„æ— ç”¨æ–‡ä»¶
sudo apt-get purge 'fcitx*'  # å¯ä»¥åˆ é™¤å…¨éƒ¨ä»¥ fcitx å¼€å¤´çš„å®‰è£…åŒ…ï¼Œé¿å…å¸è½½ä¸å¹²å‡€
```

å¦‚æœä»gitä¸Šcloneä¸‹æ¥çš„ä»“åº“ä¸­ï¼Œæœ‰è„šæœ¬å®‰è£…æ–‡ä»¶ä»¥ `*.sh` ç»“å°¾ï¼Œéœ€è¦å…ˆèµ‹äºˆè¿è¡Œæƒé™ï¼Œç„¶åæ‰§è¡Œï¼š

```sh
# ä¾‹å¦‚å®‰è£…è„šæœ¬åç§°ä¸º install.sh
chmod 777 install.sh  # èµ‹äºˆæƒé™
./install.sh  # æ‰§è¡Œå®‰è£…
```

#### ä¸‹è½½urlé“¾æ¥æ–‡ä»¶

ä¸‹è½½urlè¿æ¥æ‰€ç”¨çš„å‘½ä»¤ï¼Œ[stack overflow - What does "wget -O" mean?](https://stackoverflow.com/questions/9830242/what-does-wget-o-mean)ã€‚

```sh
wget URL  # é»˜è®¤ä¸‹åˆ°å½“å‰ç›®å½•ä¸‹
wget 'URL'  # å¦‚æœé“¾æ¥å¤ªé•¿è®°å¾—åŠ ä¸Šå•å¼•å·
wget -P ~/Downloads URL  # å°†æ–‡ä»¶ä¸‹è½½åˆ°ç›®å½• ~/Downloads ä¸­
wget -O- ~/Downloads URL | sh  # å°†*.shæ–‡ä»¶ç›´æ¥ç”¨shå‘½ä»¤è¿›è¡Œå®‰è£…
```

### Ubuntuå¸¸ç”¨è·¯å¾„

æ‰€æœ‰ä»¥ `.` å¼€å¤´çš„æ–‡ä»¶åéƒ½æ˜¯**éšè—æ–‡ä»¶**ï¼Œè¦åœ¨Ubuntuçš„æ–‡ä»¶ç®¡ç†å™¨ä¸­æ˜¾ç¤ºå¯ä»¥çœ‹ä¸‹å›¾æ“ä½œï¼š

|![æ˜¾ç¤ºéšè—æ–‡ä»¶](/figures/My_Ubuntu.assets/æ˜¾ç¤ºéšè—æ–‡ä»¶.png)| ![æ˜¾ç¤ºéšè—æ–‡ä»¶Ubuntu24.04](/figures/My_Ubuntu.assets/æ˜¾ç¤ºéšè—æ–‡ä»¶Ubuntu24.04.png)
|-|-|
|æ˜¾ç¤ºéšè—æ–‡ä»¶Ubuntu22.04|æ˜¾ç¤ºéšè—æ–‡ä»¶Ubuntu24.04|

Ubuntuä¸­æœ‰ä»¥ä¸‹çš„ä¸€äº›å¸¸ç”¨è·¯å¾„ï¼Œä¾¿äºåç»­æ‰¾åˆ°æ–‡ä»¶ä½ç½®ï¼š

- æ ¹ç›®å½•ä¸‹å¯æ‰§è¡Œæ–‡ä»¶ä½äº `/bin/` æ–‡ä»¶å¤¹å†…ã€‚
- ç”¨æˆ·å®‰è£…çš„å­—ä½“ä½äº `~/.local/share/fonts/` æ–‡ä»¶å¤¹å†…ã€‚
- ç”¨æˆ·é…ç½®çš„æœç´¢æ åº”ç”¨å¿«æ·å›¾æ ‡ä½äº `~/.local/share/applications/` æ–‡ä»¶å¤¹å†…ã€‚
- ç”¨æˆ·é…ç½®çš„å¼€æœºè‡ªå¯ä½äº `~/.config/autostart/` æ–‡ä»¶å¤¹å†…ï¼ˆå¦‚æœä¸æ˜¯è‡ªå®šä¹‰å¯åŠ¨æ–‡ä»¶ï¼Œæ¨èä½¿ç”¨tweaksè®¾ç½®å¼€æœºå¯åŠ¨é¡¹ï¼‰ã€‚
- å®‰è£…å®Œä¸»é¢˜é…ç½®æ’ä»¶ `User Themes` åï¼Œ`~/.icons` æ–‡ä»¶å¤¹ç”¨äºä¿å­˜ä¸»é¢˜å›¾æ ‡å’Œé¼ æ ‡å›¾æ ‡ï¼Œ`~/.themes` ç”¨äºä¿å­˜GNOMEçª—å£é…è‰²ã€‚

## å‰ç½®é‡è¦é…ç½®
### æ‰“å¼€grubå¼•å¯¼ç•Œé¢
> åœ¨å®‰è£…Ubuntuæ—¶å€™å¦‚æœæ²¡æœ‰æ£€æµ‹åˆ°åŒç³»ç»Ÿï¼Œgrubå¼•å¯¼ç•Œé¢ä¼šè‡ªåŠ¨è®¾ç½®ä¸ºè·³è¿‡

å®‰è£…å¼€å§‹å…¨éƒ¨å®‰è£…å‰ï¼Œæˆ‘ä»¬å…ˆè§‚å¯Ÿä¸‹BIOSç•Œé¢è¿‡åï¼Œæˆ‘ä»¬æœ‰æ²¡æœ‰çœ‹åˆ°grubç•Œé¢ï¼ˆä¸€ä¸ªå¯ä»¥é€šè¿‡ä¸Šä¸‹é”®é€‰æ‹©è¿›å…¥ä¸åŒUbuntuç‰ˆæœ¬ã€æ¢å¤æ¨¡å¼ã€Windows(å¦‚æœæœ‰)çš„ç•Œé¢ï¼‰å¦‚æœæ²¡æœ‰ï¼Œè¯·æœ€å¥½åœ¨ç¬¬ä¸€æ¬¡å¯åŠ¨Ubuntuå¯è§†åŒ–ç•Œé¢åï¼Œå…ˆå°†å…¶æ‰“å¼€ï¼ˆé¿å…å®‰è£…å‡ºé”™éƒ½è¿›ä¸äº†æ¢å¤æ¨¡å¼ï¼‰ï¼š

å…ˆæŸ¥çœ‹æœ‰æ²¡æœ‰ `/etc/default/grub` æ–‡ä»¶ï¼Œå¦‚æœæ²¡æœ‰åˆ™éœ€è¦æ‰‹åŠ¨æ‹·è´ä¸€ä¸ªï¼ˆå‚è€ƒ[Ask Ubuntu - there-was-no-etc-default-grub-file](https://askubuntu.com/a/918143)ï¼‰
```bash
sudo cp /usr/share/grub/default/grub /etc/default/
```

æ‰“å¼€æ–‡ä»¶
```bash
sudo vim /etc/default/grub
sudo gedit /etc/default/grub  # Ubuntu 22.04
sudo gnome-text-editor /etc/default/grub  # Ubuntu 24.04
```

æ‰¾åˆ°å¦‚ä¸‹ä¸¤è¡Œä¿®æ”¹ä¸º
```vim
# GRUB_TIMEOUT_STYLE=hidden  # åœ¨å‰é¢åŠ ä¸Šä¸ª#æ³¨é‡Šæ‰
GRUB_TIMEOUT=10  # ä»0æ”¹æˆ10ï¼Œè¡¨ç¤ºæœ‰10ç§’çš„é€‰æ‹©æ—¶é—´ï¼Œå¦åˆ™é»˜è®¤è¿›å…¥ç¬¬ä¸€ä¸ªæ¨¡å¼
```
ä¿å­˜é€€å‡ºï¼Œæ‰§è¡Œ`sudo update-grub`å³å¯ã€‚

### æš‚åœè‡ªåŠ¨æ›´æ–°
ç”±äºUbuntuä¼šè‡ªåŠ¨æ›´æ–°ç³»ç»Ÿå†…æ ¸å¯¼è‡´å¾ˆå¤šé—®é¢˜ï¼Œä¾‹å¦‚Nvidiaé©±åŠ¨æ— æ³•è¯†åˆ«ç­‰ï¼Œæ‰€ä»¥å¿…é¡»å…³é—­è‡ªåŠ¨æ›´æ–°åŠŸèƒ½ï¼Œæ–¹æ³•å¦‚ä¸‹ï¼š

æŒ‰ `super` é”®ï¼ˆwiné”®ï¼‰æœç´¢ `Software & Updates` æ‰¾åˆ° `Updates` å°†é€‰é¡¹ä¿®æ”¹ä¸ºä¸‹å›¾æ ·å¼ï¼ˆæ‰€æœ‰çš„æ›´æ–°éƒ½é€‰Neveræˆ–è€…æ—¶é—´æœ€é•¿ï¼‰
![å–æ¶ˆå…¨éƒ¨åŒ…çš„è‡ªåŠ¨æ›´æ–°](/figures/My_Ubuntu.assets/stop_auto_update.png)

### å†…æ ¸ç‰ˆæœ¬ä¿®æ”¹
> å‚è€ƒ[CSDN - Ubuntuç³»ç»Ÿæ›´æ¢Linuxå†…æ ¸çš„è¯¦ç»†æ–¹æ³•æ±‡æ€»](https://blog.csdn.net/IronmanJay/article/details/132395150)

é¦–å…ˆæŸ¥çœ‹å½“å‰çš„å†…æ ¸ç‰ˆæœ¬ï¼š
```bash
â¯ uname -r
6.8.0-45-generic
```

æŸ¥çœ‹å¯å®‰è£…çš„å†…æ ¸ç‰ˆæœ¬ï¼ˆåªæ¨èç”¨genericç‰ˆçš„å†…æ ¸ï¼‰ï¼š
```bash
sudo apt search linux-image | grep "linux-image-.*-generic"
sudo dpkg -l | grep linux-image
```
| æŸ¥æ‰¾å¯å®‰è£…kernel | æŸ¥æ‰¾å½“å‰kernelï¼ˆå‰é¢å¸¦æœ‰ `ii` å°±æ˜¯å·²å®‰è£…çš„ï¼‰ |
| - | - |
| ![æŸ¥æ‰¾å¯å®‰è£…kernel](/figures/My_Ubuntu.assets/æŸ¥æ‰¾å¯å®‰è£…kernel.png) | ![æŸ¥æ‰¾å½“å‰kernel](/figures/My_Ubuntu.assets/æŸ¥æ‰¾å½“å‰kernel.png) |

ç”¨ `apt` å®‰è£…æˆ–å¸è½½å†…æ ¸ï¼š
```bash
# å®‰è£…å†…æ ¸ï¼ˆåé¢å¡«ä¸Šé¢æœç´¢åˆ°çš„å†…æ ¸ç‰ˆæœ¬å·ï¼‰
sudo apt-get install linux-image-*.*.*-*-generic
sudo apt-get install linux-headers-*.*.*-*-generic
# å¸è½½å†…æ ¸
sudo apt-get install linux-image-*.*.*-*-generic
sudo apt-get install linux-headers-*.*.*-*-generic
```

å®‰è£…å®Œæˆåï¼Œé‡å¯ï¼Œåœ¨grubå¼•å¯¼ç•Œé¢ä¸­é€‰æ‹©ç¬¬äºŒä¸ª `Advanced options for Ubuntu`ï¼Œå°±å¯ä»¥çœ‹åˆ°åˆšæ‰å®‰è£…çš„å†…æ ¸äº†ï¼Œè¿›å…¥å³å¯ã€‚

### æŒ‡å®šå¯åŠ¨å†…æ ¸ç‰ˆæœ¬å¯åŠ¨
> å‚è€ƒ [Ask Ubuntu - How can I boot with an older kernel version?](https://askubuntu.com/questions/82140/how-can-i-boot-with-an-older-kernel-version)

è®°ä¸‹æ¯æ¬¡åœ¨ `Advanced options for Ubuntu` ä¸­æƒ³è¦è¿›å…¥çš„å†…æ ¸å±äºåˆ—è¡¨ä¸­çš„ç¬¬å‡ ä¸ªï¼ˆä»0å¼€å§‹ï¼‰ï¼Œæˆ–è€…ç›´æ¥æŸ¥çœ‹ï¼š
```bash
sudo grub-mkconfig | grep -iE "menuentry 'Ubuntu, with Linux" | awk '{print i++ " : "$1, $2, $3, $4, $5, $6, $7}'

0 : menuentry 'Ubuntu, with Linux 6.8.0-45-generic' --class ubuntu
1 : menuentry 'Ubuntu, with Linux 6.8.0-45-generic (recovery mode)'
2 : menuentry 'Ubuntu, with Linux 6.8.0-38-generic' --class ubuntu
3 : menuentry 'Ubuntu, with Linux 6.8.0-38-generic (recovery mode)'
```
ä¾‹å¦‚æƒ³è¦è¿›å…¥ç¬¬äºŒä¸ªå†…æ ¸ç»ˆç«¯ï¼Œåˆ™ç¼–è¾‘ `/etc/default/grub` æ–‡ä»¶ä¿®æ”¹ `GRUB_DEFAULT="1>2"`ï¼Œæ›´æ–° `sudo update-grub`ï¼Œé‡å¯åå°±ä¼šå‘ç°é»˜è®¤çš„å…‰æ ‡å°±å¤„äºæˆ‘ä»¬æƒ³è¦çš„å†…æ ¸ä¸Šé¢å•¦ï¼Œé»˜è®¤å°±å¯ä»¥è¿›å…¥æƒ³è¦çš„å†…æ ¸äº†ï¼

### Nvidiaé©±åŠ¨å®‰è£…
> è€æ–¹æ³•ï¼šNvidiaé©±åŠ¨å®‰è£…æ–¹æ³•ï¼š[CSDN-ã€ubunbu 22.04ã€‘ æ‰‹æŠŠæ‰‹æ•™ä½ å®‰è£…nvidiaé©±åŠ¨](https://blog.csdn.net/huiyoooo/article/details/128015155)
> 2024.6.12 æ›´æ–°ï¼šå®‰è£…äº†å¾ˆå¤šæ¬¡Nvidiaé©±åŠ¨ï¼Œæ¨èæ–¹æ³•è¿˜æ˜¯æŒ‰ç…§ Ubuntu å®˜æ–¹ç»™å‡ºçš„[å®‰è£…æ–¹æ³•](https://ubuntu.com/server/docs/nvidia-drivers-installation)ï¼Œä½¿ç”¨ `sudo ubuntu-drivers list` æŸ¥çœ‹å»ºè®®å®‰è£…çš„ Nvidia é©±åŠ¨ï¼Œ`sudo ubuntu-drivers install nvidia:535` å®‰è£…æŒ‡å®šçš„æ˜¾å¡ç‰ˆæœ¬ï¼Œé‡å¯å³å¯ã€‚
> 2025.7.9. æ›´æ–°ï¼šä¸æ¨èå†ç”¨ `ubuntu-drivers` æ¥å®‰è£…Nvidiaé©±åŠ¨ï¼Œå› ä¸ºä¼šè‡ªåŠ¨æ›´æ–°
> 2025.10.10. æ›´æ–°ï¼šåœ¨bioså®‰å…¨å¯åŠ¨åŠŸèƒ½åï¼Œé€šè¿‡MOKå°†Nvidiaæ˜¾å¡é©±åŠ¨åŠ å…¥å®‰å…¨å¯åŠ¨

**Nvidiaé©±åŠ¨å’Œå†…æ ¸ç‰ˆæœ¬å¼ºæŒ‚é’©ï¼** å¦‚æœä¿®æ”¹äº†å†…æ ¸ç‰ˆæœ¬ï¼Œé‚£ä¹ˆNvidiaé©±åŠ¨å°±è¦é‡è£…ï¼Œä¸‹é¢å®‰è£…ä¼š**ç›´æ¥å®‰è£…åˆ°å½“å‰å¯åŠ¨çš„å†…æ ¸**ä¸Šï¼Œè¯·å…ˆå¯åŠ¨ä½ ä»¥åæƒ³è¦é•¿æœŸç”¨çš„å†…æ ¸ç‰ˆæœ¬ï¼

å¦‚æœæœ‰Nvidiaæ˜¾å¡åˆ™éœ€è¦å®‰è£…é©±åŠ¨ï¼Œå®˜æ–¹çš„ `ubuntu-drivers` å®‰è£…æ–¹æ³•ä¼šå¯¼è‡´å°†å½“å‰çš„**å†…æ ¸ä¼šå›ºå®šå‰ä¸¤ä¸ªç‰ˆæœ¬å·è‡ªåŠ¨æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬ä¸Š**ï¼ˆä¾‹å¦‚ï¼Œå½“å‰å¯åŠ¨çš„æ˜¯ `6.8.0-42`ï¼Œä½†æ˜¯å®‰è£…é©±åŠ¨æ—¶ä¼šè‡ªåŠ¨å®‰è£… `6.8.0-62`ï¼‰ï¼Œä½†æ˜¯è‡ªåŠ¨å®‰è£…çš„é©±åŠ¨åˆä¸å®Œæ•´ï¼ˆä¾‹å¦‚ï¼Œæ— æ³•æ‰“å¼€Uç›˜ï¼‰

æ‰€ä»¥è¿˜æ˜¯æ¨èä» [Nvidia-Driver](https://www.nvidia.com/en-us/drivers/unix/) ä¸Šæœç´¢ä½ çš„æ˜¾å¡å‹å·ï¼Œç›´æ¥ä¸‹è½½ `*.run` æ–‡ä»¶ï¼Œå®‰è£…æ–¹æ³•å¦‚ä¸‹ï¼šï¼ˆå®‰å…¨å¯åŠ¨æ–¹æ³•å‚è€ƒGemini 2.5 Proï¼‰

> æ¨èå…ˆæ‰§è¡Œå‰ä¸¤æ­¥ï¼Œå¦‚æœä¸æ‰§è¡Œç›´æ¥ç¬¬3æ­¥å¼€å§‹å®‰è£…ä¹Ÿä¼šè¦æ±‚ç¦ç”¨nouveauï¼Œä½†æ˜¯å¯èƒ½ä¼šå‘ç”ŸæŠ¥é”™ï¼Œä¸ç¨³å®šï¼Œå› æ­¤æ¨èæ‰‹åŠ¨ç¦ç”¨nouveau
1. åˆ›å»ºNouveaué»‘åå•æ–‡ä»¶ï¼Œç¦ç”¨å¼€æºçš„æ˜¾å¡é©±åŠ¨ï¼Œä½¿ç”¨Nvidiaçš„ä¸“æœ‰é©±åŠ¨ï¼Œåˆ›å»ºæ–‡ä»¶ `sudo vim /etc/modprobe.d/blacklist-nouveau.conf`ï¼Œç¼–è¾‘å†…å®¹
    ```conf
    blacklist nouveau
    options nouveau modeset=0
    ```
    ä¿å­˜å¹¶é€€å‡ºï¼Œæ›´æ–°å†…æ ¸å¯åŠ¨é•œåƒ `sudo update-initramfs -u`ï¼Œé‡å¯ç”µè„‘ `sudo reboot`ï¼Œæ£€æŸ¥æ˜¯å¦æˆåŠŸç¦ç”¨Nouveau
    ```bash
    lsmod | grep nouveau  # æ²¡æœ‰ä»»ä½•è¾“å‡ºå°±æ˜¯æˆåŠŸç¦ç”¨
    ```
2. åœç”¨å›¾å½¢ç•Œé¢æœåŠ¡ï¼šé»˜è®¤çš„Ubuntuç•Œé¢ä¸ºgdm3ï¼Œæ‰§è¡Œ
    ```bash
    sudo systemctl stop gdm3
    # æˆ–è€…æ›´ä¸€èˆ¬çš„æ–¹æ³•ï¼Œå¦‚æœä½¿ç”¨GDM, LightDM, SDDMç­‰æ‰€æœ‰å›¾å½¢åŒ–ç•Œé¢
    sudo systemctl isolate multi-user.target
    ```
3. å¼€å§‹å®‰è£…ï¼š
    ```bash
    sudo apt install g++ gcc make  # å…ˆå®‰è£…å¥½ç¼–è¯‘å™¨
    chmod +x NVIDIA-Linux-*.run
    sudo ./NVIDIA-Linux-*.run  # å¼€å§‹å®‰è£…é©±åŠ¨æ–‡ä»¶
    ```
4. å®‰è£…ä¸­ä¸€äº›å…¶ä»–é€‰é¡¹ï¼š"å»ºè®®ç”¨Ubuntuçš„aptå®‰è£…"é€‰continue install, "Nvidia-32"é€‰Noï¼Œ"X11é…ç½®æ–‡ä»¶"é€‰Yesï¼Œ"æ³¨å†Œåˆ°DKMS"é€‰Yesï¼ˆåœ¨å†…æ ¸æ›´æ–°åè‡ªåŠ¨é‡æ–°ç¼–è¯‘ï¼‰
5. å¦‚æœä½ å’Œæˆ‘ä¸€æ ·å¸Œæœ›åœ¨å®‰å…¨æ¨¡å¼ä¸‹å¯åŠ¨Nvidiaé©±åŠ¨ï¼ˆå¦‚æœä¸éœ€è¦å¯ä»¥åœ¨biosä¸­å…³é—­å®‰å…¨å¯åŠ¨ï¼‰ï¼Œå°±éœ€è¦é¢å¤–è¿›è¡Œä¸€äº›é…ç½®ï¼š
    1. å®‰è£…è¿‡ç¨‹ä¸­ä¼šæç¤ºå¯ç”¨äº†å®‰å…¨å¯åŠ¨ï¼Œæ˜¯å¦åˆ›å»ºå†…æ ¸æ¨¡å—ç­¾åï¼Œé€‰ Sign the kernel module
    2. å·²ä½¿ç”¨æ–°å¯†é’¥ç­¾åï¼Œæ˜¯å¦åˆ é™¤ç§æœ‰ç­¾åï¼Œé€‰Yes
    3. æœ€åä¸€æ­¥ä¼šç»™å‡ºç­¾åçš„ç›¸å…³ä¿¡æ¯ï¼ŒåŒ…å«ä¸€ä¸ªå­˜å‚¨è·¯å¾„`/usr/share/nvidia/nvidia-*.der`ï¼ˆè®°ä½è¿™ä¸ªè·¯å¾„ï¼‰ï¼Œå’Œä¸€ä¸²å­—ç¬¦ï¼Œä»£è¡¨ç­¾åçš„å‡­è¯ï¼Œé€‰Yes
    4. å®Œæˆå®‰è£…é‡å¯ `sudo reboot`ï¼Œå¯èƒ½è¿›ä¸å»MOKç•Œé¢ï¼ˆåœ¨bioså›¾æ ‡è¿‡åä¼šè‡ªåŠ¨è¿›å…¥ä¸€ä¸ªè“è‰²ç•Œé¢ï¼‰ï¼Œç»§ç»­æ‰§è¡Œä¸‹é¢æ–¹æ³•
    5. å¯¼å…¥å¯†é’¥`sudo mokutil --import /usr/share/nvidia/nvidia-*.der`ï¼ˆè¿™ä¸ªå°±æ˜¯ç¬¬3æ­¥çš„ç­¾åè·¯å¾„ï¼‰ï¼Œè¾“å…¥ä¸¤æ¬¡è‡ªå®šä¹‰çš„å¯†ç ï¼Œé‡å¯
    6. å®Œæˆç¬¬5æ­¥åé‡å¯ï¼Œåº”è¯¥èƒ½ç¨³å®šè§¦å‘MOKç®¡ç†ç¨‹åºï¼Œé€‰æ‹©`Enroll MOK`ï¼ˆæ³¨å†ŒMOKï¼‰ï¼Œæ¥ä¸‹æ¥é€‰æ‹©`Continue`å°±ä¼šæç¤ºè¾“å…¥ç¬¬5æ­¥è‡ªå®šä¹‰çš„å¯†ç ï¼Œè¾“å…¥å¯†ç åå›è½¦ï¼Œç»§ç»­å¯åŠ¨è¿›å…¥ç³»ç»Ÿ
    7. æµ‹è¯•`nvidia-smi`å‘½ä»¤æ˜¯å¦å¯ç”¨ï¼Œè¿”å›æ˜¾å¡ä¿¡æ¯å°±å®‰è£…å®Œæ¯•äº†

> å¦‚æœè¦å¸è½½å®‰è£…ç›´æ¥è¿è¡Œ`sudo nvidia-uninstall`å‘½ä»¤å³å¯
> å¦‚æœå®‰è£…å‡ºç°é—®é¢˜ï¼Œæ‰¾ç”Ÿæˆçš„ `/var/log/nvidia*.log` æ—¥å¿—æ–‡ä»¶æŸ¥çœ‹ error å†…å®¹ï¼Œç½‘ä¸Šæœç´¢è§£å†³é—®é¢˜

**Ubuntu20,22çš„ç»å…¸å®‰è£…é—®é¢˜**ï¼šGCCç‰ˆæœ¬é—®é¢˜ï¼Œåœ¨Ubuntu20æˆ–22ä¸Šï¼Œå¯èƒ½éœ€è¦æ›´æ–°åˆ°GCC-12ï¼Œæ‰èƒ½å®‰è£…570çš„é©±åŠ¨
{% spoiler Nvidia 535ä»¥ä¸Šç‰ˆæœ¬çš„é©±åŠ¨gccç¼–è¯‘è¿‡ç¨‹æŠ¥é”™ %}
å¦‚æœåœ¨é©±åŠ¨å®‰è£…ç¼–è¯‘è¿‡ç¨‹ä¸­å‘ç”ŸæŠ¥é”™ï¼Œ535 ç‰ˆæœ¬çš„é©±åŠ¨å¯èƒ½æŠ¥é”™ï¼Œè¿™æ˜¯ Ubuntu 22.04 çš„é»˜è®¤ gcc ç‰ˆæœ¬ä¸º 11ï¼Œè€Œé©±åŠ¨çš„ç¼–è¯‘ç‰ˆæœ¬ä¸º `gcc-12`ï¼Œæˆ‘ä»¬éœ€è¦å»å°†å…¶ä¿®æ”¹ä¸º `gcc-12`ï¼š
```bash
sudo apt install gcc-12  # å®‰è£…gcc-12
cd /usr/bin
ls -ls | grep gcc  # çœ‹åˆ° gcc -> gcc-11, è¯´æ˜å½“å‰ä½¿ç”¨çš„æ˜¯ gcc-11
sudo ln -sf gcc-12 gcc  # é‡æ–°è¿æ¥åˆ° gcc-12
sudo apt install nvidia-driver-535  # é‡æ–°å®‰è£…é©±åŠ¨
```
{% endspoiler %}


## è½¯ä»¶å®‰è£…

### Firefoxæµè§ˆå™¨aptç‰ˆé‡è£…
å¦‚æœä½ æ‰“ç®—ç»§ç»­ä½¿ç”¨Firefoxï¼ˆåç»­ä¸»é¢˜è‡ªå®šä¹‰ä¼šç”¨åˆ°Firefox gnome extensionï¼‰ï¼Œåˆ™ä¸€å®šè¦å…ˆå¸è½½é»˜è®¤å®‰è£…çš„ï¼Œå› ä¸ºå…¶ä½¿ç”¨çš„snapå®‰è£…å­˜åœ¨å¾ˆå¤šå…¼å®¹æ€§é—®é¢˜ï¼Œå®‰è£…æ–¹æ³•å‚è€ƒ [How to install Firefox as a traditional deb package (without snap) in Ubuntu 22.04 or later versions?](https://askubuntu.com/a/1404401)

æ·»åŠ å®˜æ–¹APTæº
```bash
sudo add-apt-repository ppa:mozillateam/ppa
```

è¿è¡Œä»¥ä¸‹å‘½ä»¤ä¿®æ”¹ apt ç‰ˆæœ¬çš„ Firefox ä¼˜å…ˆäº snap ç‰ˆæœ¬
```bash
echo '
Package: *
Pin: release o=LP-PPA-mozillateam
Pin-Priority: 1001

Package: firefox
Pin: version 1:1snap*
Pin-Priority: -1
' | sudo tee /etc/apt/preferences.d/mozilla-firefox
```

å¸è½½snapç‰ˆFirefox
```bash
sudo snap remove firefox
```

{% spoiler ç‚¹å‡»æ˜¾/éš snapå¸è½½æŠ¥é”™è§£å†³æ–¹æ³• %}
å¦‚æœsnapå¸è½½æŠ¥é”™ï¼š
```bash
error: cannot perform the following tasks:
- Remove data for snap "firefox" (1943) (unlinkat /var/snap/firefox/common/host-hunspell/en_ZA.dic: read-only file system)
```

åˆ é™¤ä»¥ä¸‹æ–‡ä»¶ï¼Œä¾¿äºGNOMEæ‰©å±•å¯ä»¥ç›´æ¥ä½¿ç”¨
```bash
sudo rm /etc/apparmor.d/usr.bin.firefox
sudo rm /etc/apparmor.d/local/usr.bin.firefox
```

åœæ­¢hunspellæœåŠ¡å¹¶é‡æ–°å°è¯•å¸è½½
```bash
sudo systemctl stop var-snap-firefox-common-host\\x2dhunspell.mount
sudo systemctl disable var-snap-firefox-common-host\\x2dhunspell.mount
sudo snap remove firefox
```
{% endspoiler %}

å®‰è£…aptç‰ˆfirefoxï¼Œå¯ä»¥ä»ä¸‹è½½æºçœ‹å‡ºæ˜¯aptè¿˜æ˜¯snapç‰ˆçš„
```bash
sudo apt install firefox
```

æœ€åä¸ºé¿å…è‡ªåŠ¨æ›´æ–°å¯¼è‡´snapç‰ˆé‡è£…ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤
```bash
echo 'Unattended-Upgrade::Allowed-Origins:: "LP-PPA-mozillateam:${distro_codename}";' | sudo tee /etc/apt/apt.conf.d/51unattended-upgrades-firefox
```

### å®‰è£…ä¸­æ–‡è¾“å…¥æ³•

å¸¸ç”¨æœ‰ä¸¤ç§è¾“å…¥æ³•ï¼š**Fcitx, IBus**

ä½¿ç”¨äº†Fcitx4å’ŒIBusè¾“å…¥æ³•åï¼Œæœ€ç»ˆé€‰æ‹©äº†æ¯”è¾ƒæ–°çš„Fcitx5ï¼Œè¾“å…¥éå¸¸æµç•…ï¼Œæ¯”è¾ƒæ¨èä½¿ç”¨ï¼Œå®‰è£…æ•™ç¨‹å‚è€ƒ [çŸ¥ä¹ - Ubuntu22.04å®‰è£…Fcitx5ä¸­æ–‡è¾“å…¥æ³•ï¼ˆè¯¦ç»†ï¼‰](https://zhuanlan.zhihu.com/p/508797663)ã€‚

ç¯å¢ƒå˜é‡é…ç½®ï¼ˆå‚è€ƒ[çŸ¥ä¹ - å¼€å¿ƒçš„ä½¿ç”¨fcitx5è¿›è¡Œè¾“å…¥](https://zhuanlan.zhihu.com/p/341637818)ï¼‰ï¼š
1. `~/.xprofile` ä¸­åŠ å…¥å¦‚ä¸‹ä¿¡æ¯ï¼ˆæ²¡æœ‰æ–‡ä»¶åˆ™è¿›è¡Œåˆ›å»ºï¼Œç”¨äº X11 çš„ç¯å¢ƒå˜é‡é…ç½®ï¼‰
```vim
export XIM="fcitx"
export GTK_IM_MODULE=fcitx
export QT_IM_MODULE=fcitx
export XMODIFIERS=@im=fcitx
```
2. `~/.pam_environment` ä¸­åŠ å…¥å¦‚ä¸‹ä¿¡æ¯ï¼ˆæ²¡æœ‰æ–‡ä»¶åˆ™è¿›è¡Œåˆ›å»ºï¼‰
```vim
GTK_IM_MODULE DEFAULT=fcitx
QT_IM_MODULE  DEFAULT=fcitx
XMODIFIERS    DEFAULT=\@im=fcitx
SDL_IM_MODULE DEFAULT=fcitx
```

æœ€åæ˜¯å¤–è§‚ä¿®æ”¹ï¼Œå¯ä»¥åœ¨ä¸‹æ–‡[ä¸»é¢˜è‡ªå®šä¹‰](./#ä¸»é¢˜è‡ªå®šä¹‰)ä¸­æ›´æ–°å®ŒFireFoxå’Œå®‰è£…å®Œ `chrome-gnome-shell` ä¹‹åï¼Œå®‰è£… [Input Method Panel](https://extensions.gnome.org/extension/261/kimpanel/)ï¼Œå³å¯ä¿®æ”¹è¾“å…¥æ³•é¢œè‰²ï¼Œæœ€å¥½çš„æ˜¯è¿˜èƒ½ä¿®æ”¹å­—ä½“å¤§å°ï¼Œéå¸¸å¥½ç”¨ã€‚

> å¦‚æœæ— æ³•å®‰è£…Fcitx5å¯ä»¥ä½¿ç”¨æœç‹—è¾“å…¥æ³•ï¼Œæ•ˆæœä¹Ÿä¸é”™ï¼Œå¯ä»¥è‡ªå®šä¹‰å¤–è§‚ï¼Œåœ¨è¾“å…¥çš„æ–‡æœ¬æ¡†ä¸­å³é”®è®¾ç½®å³å¯å¯¹å…¶è¿›è¡Œé…ç½®ã€‚[æœç‹—è¾“å…¥æ³•-å®˜æ–¹ä¸‹è½½åŠå®‰è£…æ•™ç¨‹](https://shurufa.sogou.com/linux?r=pinyin)

å…³é”®ï¼ï¼ï¼ï¼šå¦‚æœä½ ä¹‹å‰æ›´æ–°è¿‡Ubuntuï¼Œå°±ä¼šå¯¼è‡´å®‰è£…è¿‡ç¨‹ä¸­æç¤ºä¾èµ–åŒ…ç¡®å®ï¼Œè¿™æ—¶å€™å°±éœ€è¦ä½¿ç”¨ `aptitude` å¯¹åŒ…è¿›è¡Œé™çº§ï¼ˆä¸æ¨èå¯¹ä¸»ç”¨æœºè¿›è¡Œé¢‘ç¹å‡çº§ï¼‰ï¼š

```sh
sudo apt install aptitude
sudo aptitude install fcitx5-chinese-addons  # ä¾‹å¦‚æˆ‘ä¹‹å‰æ— æ³•å®‰è£…fcitx5-chinese-addons
# é¦–å…ˆå®ƒä¼šå‘ä½ ä»‹ç»éœ€è¦å“ªäº›å®‰è£…æŠ¥ï¼Œä¸»è¦çœ‹removeï¼Œinstallï¼Œdowngradeå“ªäº›åŒ…ï¼Œå¦‚æœremoveçš„åŒ…ä¸­æœ‰ç›¸å…³çš„ä¾èµ–åŒ…ï¼Œä¾‹å¦‚åŒ…å«fcitxåç§°çš„ï¼Œå°±ç»§ç»­æŒ‰`n`ç„¶åå›è½¦ï¼Œè®©å®ƒç»™ä½ æ›´å¤šçš„é€‰æ‹©ï¼Œç”±äºä¹‹å‰å‡çº§äº†åŒ…ï¼Œæ‰€ä»¥ä¸»è¦çœ‹æ˜¯å¦æœ‰ä¹‹å‰åŒ…ç‰ˆæœ¬è¿›è¡Œäº†downgradeï¼Œå¦‚æœæœ‰ï¼Œåˆ™æŒ‰`y`ç„¶åå›è½¦è¿›è¡Œå®‰è£…ã€‚åå¤å¤šè¯•å‡ æ¬¡å°±èƒ½è£…ä¸Šã€‚
```

ä½¿ç”¨Fcitx4è¾“å…¥æ³•å¯ä»¥å®‰è£…æœç‹—è¾“å…¥æ³•ï¼Œä½†æ˜¯æ¯”è¾ƒè€ï¼Œä¸æ¨èä½¿ç”¨ï¼Œå‚è€ƒ [CSDN - Ubuntu 22.04å®‰è£…æœç‹—è¾“å…¥æ³•](https://blog.csdn.net/mr_sudo/article/details/124874239)ã€‚

IBus è¾“å…¥æ³•ä¼šç»å¸¸å¡é¡¿ï¼Œä¸æ¨èä½¿ç”¨ï¼Œä»¥ä¸‹æ˜¯ä»¥å‰å®‰è£…IBusçš„æ–¹æ³•ï¼Œå‚è€ƒ [çŸ¥ä¹ - å®‰è£…ibusä¸­æ–‡è¾“å…¥æ³•(Linux/Ubuntu)](https://zhuanlan.zhihu.com/p/132558860)ã€‚

{% spoiler "ä¹‹å‰å®‰è£…IBusçš„è¯¦ç»†è¿‡ç¨‹" %}
```sh
sudo apt install ibus ibus-clutter ibus-gtk ibus-gtk3 ibus-qt4  # å®‰è£…ibusæ¡†æ¶
im-config -s ibus  # åˆ‡æ¢ibusæ¡†æ¶
sudo apt install ibus-pinyin  # å®‰è£…æ‹¼éŸ³
```

æ‰“å¼€Settings - Region & Language - Manage Installed Languagesï¼Œåœ¨Language Supportä¸­è®¾ç½®é»˜è®¤çš„è¾“å…¥æ³•ä¸º `IBus`ã€‚

![é€‰æ‹©IBusä½œä¸ºé»˜è®¤è¾“å…¥æ³•](/figures/My_Ubuntu.assets/é€‰æ‹©IBusä½œä¸ºé»˜è®¤è¾“å…¥æ³•.png)

é‡å¯åï¼Œå†æ‰“å¼€Settings - Keyboard

![è®¾ç½®è¾“å…¥æ³•](/figures/My_Ubuntu.assets/è®¾ç½®è¾“å…¥æ³•.png)

![è®¾ç½®è¾“å…¥æ³•ï¼‘](/figures/My_Ubuntu.assets/è®¾ç½®è¾“å…¥æ³•ï¼‘.png)

ç„¶åå°±å¯ä»¥é€šè¿‡ `super + space`ã€€ï¼ˆï¼µbuntuä¸­ `super` é”®å°±æ˜¯ `win` é”®ï¼‰åˆ‡æ¢è¾“å…¥æ³•ï¼Œè¿›è¡Œä¸­æ–‡è¾“å…¥ã€‚ä»¥ä¸‹æ˜¯å¯¹è¾“å…¥æ³•çš„ä¸€äº›é…ç½®ï¼Œä¸è¦å¼€å¤ªå¤šåŠŸèƒ½ï¼Œä¼šä½¿å¾—æ€§èƒ½ä¸‹é™ã€‚å¯ä»¥æ‰“å¼€éƒ¨åˆ†æ··æ·†è¯æ›¿æ¢å’Œè¯å…¸ã€‚

![é…ç½®è¾“å…¥æ³•](/figures/My_Ubuntu.assets/é…ç½®è¾“å…¥æ³•ï¼‘.png)
{% endspoiler %}

### ä¸»é¢˜è‡ªå®šä¹‰

å®‰è£…æ’ä»¶ç®¡ç†å™¨

```sh
sudo apt install gnome-tweaks  # gnomeç®¡ç†å™¨
sudo apt install chrome-gnome-shell  # æ’ä»¶ç®¡ç†å™¨
sudo apt install gnome-shell-extensions  # å®‰è£…extensionï¼Œå¯ä»¥é…ç½®å®‰è£…çš„æ’ä»¶
```

å®‰è£…å®Œåæ‰“å¼€ç½‘é¡µ(https://extensions.gnome.org/)ï¼Œç‚¹å‡»ä¸Šé¢ä¿¡ä»»æ’ä»¶å®‰è£…ï¼Œæœ€åæ•ˆæœå¦‚ä¸‹ï¼š

è¿™é‡Œå¦‚æœå‘ç°Firefoxæ— æ³•æ‰“å¼€ç½‘ç«™ï¼Œæ¨èå…ˆç”¨ä¸Šè¿°[Firefoxçš„aptç‰ˆé‡è£…](./#firefoxæµè§ˆå™¨aptç‰ˆé‡è£…)ï¼Œå†ä¸‹è½½Firefoxæ’ä»¶ [Firefox addon - GNOME Shell](https://addons.mozilla.org/en-US/firefox/addon/gnome-shell-integration/) å³å¯ç›´æ¥è€Œä½¿ç”¨ã€‚

![FireFoxæµè§ˆå™¨ç®¡ç†æ’ä»¶](/figures/My_Ubuntu.assets/ç«ç‹æµè§ˆå™¨ç®¡ç†æ’ä»¶.png)

éœ€è¦å…ˆåœ¨ extension manager ä¸­å®‰è£… `User Themes`ï¼Œæ‰èƒ½è¿›ä¸€æ­¥è¿›è¡Œä¸‹è¿°æ“ä½œï¼Œå®‰è£…ä¸»é¢˜å¯å‚è€ƒ [Give Your GNOME A Fresh And Elegant Look With Orchis Theme 2022 |  Ubuntu 22.04 Customization](https://www.youtube.com/watch?v=4yA9IAY9pJU)ã€‚

> æ³¨æ„ï¼šUbuntu24.04å¯èƒ½æ— æ³•åœ¨èœå•æ ä¸­æ‰¾åˆ°Extensionsç®¡ç†æ’ä»¶ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨ç½‘å€(https://extensions.gnome.org/)çš„ä¸Šæ–¹ç‚¹å‡»`Installed extensions`ï¼Œæ‰¾åˆ°æˆ‘ä»¬æƒ³è¦ä¿®æ”¹é…ç½®çš„æ’ä»¶ï¼Œç‚¹å‡»å³ä¾§çš„å°é½¿è½®æŒ‰é’®å³å¯æ‰“å¼€å¯¹åº”çš„é…ç½®èœå•ã€‚

ä¸»é¢˜é…ç½®å¯ä»¥ä» [gnome look](https://www.gnome-look.org/)(ä¸€ä¸ªå¼€æºçš„é…ç½®gnomeå¤–è§‚çš„ç½‘ç«™) ä¸­é€‰æ‹©è‡ªå·±å–œæ¬¢çš„é…ç½®ï¼Œæˆ‘çš„é€‰æ‹©æœ‰ä»¥ä¸‹ä¸‰ä¸ªï¼Œä¿®æ”¹æ–‡ä»¶çš„æ–¹å¼å‡æ˜¯åœ¨tweaks - Appearanceä¸­è¿›è¡Œä¿®æ”¹ï¼š

![tweakså¤–è§‚é…ç½®](/figures/My_Ubuntu.assets/tweakså¤–è§‚é…ç½®.png)

1. çª—å£å¤–è§‚ï¼š[Orchis gtk theme](https://www.pling.com/s/Gnome/p/1357889)ï¼Œä½¿ç”¨æ–¹æ³•ï¼Œå°†æ–‡ä»¶è§£å‹åï¼Œæ”¾åˆ° `~/.themes` æ–‡ä»¶å¤¹ä¸‹ã€‚

2. å›¾æ ‡ï¼š[Candy icons](https://www.gnome-look.org/p/1305251)ï¼Œä½¿ç”¨æ–¹æ³•ï¼Œå°†æ–‡ä»¶è§£å‹åï¼Œç„¶åæ”¾åˆ° `~/.icons` æ–‡ä»¶å¤¹ä¸‹ã€‚

{% spoiler é¼ æ ‡å›¾æ ‡ä¿®æ”¹æ–¹æ³• %}
3. é¼ æ ‡ï¼šç”±äºåŸç‰ˆé¼ æ ‡å¤§å°å¤ªå°ï¼Œæˆ‘æ˜¯ä»[GitHub -  capitaine-cursors](https://github.com/keeferrourke/capitaine-cursors) ä¸Šä¸‹è½½çš„ï¼Œç„¶åç”Ÿæˆçš„å¤šç§å¤§å°çš„å°ºå¯¸ï¼Œæœ€åæ‹·è´åˆ° `~/.icons` æ–‡ä»¶å¤¹ä¸­ï¼Œå¹¶åœ¨tweaksä¸­é€‰æ‹©è¯¥é¼ æ ‡å¤–è§‚ã€‚

   ```sh
   # æ ¹æ®GitHubç½‘ç«™ç»™å‡ºçš„è®¾ç½®æ–¹æ³•ï¼Œå…ˆå®‰è£…ç”Ÿæˆå™¨ï¼Œç„¶åç”Ÿæˆè¾ƒå¤§çš„å›¾æ ‡ï¼Œç”Ÿæˆå®Œçš„å›¾æ ‡ä½äºdistä¸‹
   sudo apt install inkscape x11-apps
   ./build.sh -p unix -t dark -d hd
   mv ./dist/dark ~/.icons/capitaine-dark-hd
   ```

æœ€åæ ¹æ® [How to change mouse pointer size and appearance in GNOME (18.04)?](https://askubuntu.com/questions/1158191/how-to-change-mouse-pointer-size-and-appearance-in-gnome-18-04) ä¸­çš„æ–¹æ³•ï¼Œä¸‹è½½dconf-editorï¼Œå®šä½åˆ°é…ç½®æ–‡ä»¶ `org/gnome/desktop/interface/cursor-size` ä¸­ä¿®æ”¹é¼ æ ‡å¤§å°ï¼Œæˆ‘æœ€åè®¾ç½®çš„ä¸º30ã€‚

   ```sh
   sudo apt install dconf-editor
   ```

   ![ä½¿ç”¨dconf-editorä¿®æ”¹é¼ æ ‡å¤§å°](/figures/My_Ubuntu.assets/é¼ æ ‡å¤§å°ä¿®æ”¹.png)
{% endspoiler %}

**å¥½ç”¨çš„æ’ä»¶**

1. [Input Method Panel](https://extensions.gnome.org/extension/261/kimpanel/)ï¼šåœ¨è¾“å…¥æ³•ä¸­æåˆ°ï¼Œç”¨äºä¿®æ”¹è¾“å…¥æ³•å­—ä½“å¤§å°å¹¶ä¸ä¸»é¢˜é¢œè‰²ç›¸é…ã€‚
2. [Dash to Dock (æ”¯æŒUbuntu 24.04)](https://extensions.gnome.org/extension/307/dash-to-dock/)ï¼Œ[Dash to Dock for COSMIC (old)](https://extensions.gnome.org/extension/5004/dash-to-dock-for-cosmic/)ï¼šç”¨æ¥é…ç½®è¾¹æ¡†æ ã€‚([è§£å†³ubuntuä½¿ç”¨Dash to dockåä¼‘çœ å‡ºç°é‡å½±ä¸¤ä¸ªdock](https://blog.csdn.net/qq_26095375/article/details/120010167)ï¼Œæ–¹æ³•å¾ˆç®€å•åˆ é™¤gnomeé»˜è®¤çš„ubuntu-dockå³å¯ `sudo apt remove gnome-shell-extension-ubuntu-dock`)
3. [Blur my Shell](https://extensions.gnome.org/extension/3193/blur-my-shell/)ï¼šç”¨äºé”å±æœ‰èƒŒæ™¯é›¾åŒ–æ•ˆæœã€‚
4. [OpenWeather Refined (æ”¯æŒUbuntu 24.04](https://extensions.gnome.org/extension/6655/openweather/), [OpenWeather (old)](https://extensions.gnome.org/extension/750/openweather/)ï¼šåœ¨ä¸Šæ–¹æ˜¾ç¤ºå¤©æ°”å’Œæ¸©åº¦ã€‚

### é…ç½®ç»ˆç«¯

é¦–å…ˆå®‰è£…vim, gitï¼Œå¹¶å°†vimçš„ç²˜è´´æ¿å’Œç³»ç»Ÿçš„ç»‘å®šï¼š

> æ³¨ï¼šå®‰è£…æ’ä»¶ `vim-gtk(3)` ä¹‹åï¼Œå°±å¯ä»¥é€šè¿‡ `+` è¿™ä¸ªå¯„å­˜å™¨å’Œç³»ç»Ÿç²˜è´´ç‰ˆå…±äº«æ•°æ®äº†ï¼Œä½¿ç”¨æ–¹æ³•å’Œå…¶ä»–å¯„å­˜å™¨ç±»ä¼¼ `" + y` æ‹·è´ï¼Œ `" + p` ç²˜è´´ã€‚
> ç”±äºæŒ‰ + å·è›®å¤æ‚çš„ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥å°†äºŒè€…ç»‘å®šåœ¨ä¸€èµ·ï¼Œå¦‚æœåœ¨åˆ é™¤æˆ–æ‹·è´æŸäº›å†…å®¹åï¼Œéœ€è¦é‡æ–°è°ƒç”¨ç³»ç»Ÿå‰ªåˆ‡æ¿ï¼Œå¯ä»¥ç”¨ `" + p` è¿›è¡Œç²˜è´´ã€‚
> å¦ä¸€ç§å¾ˆå¥½çš„æ–¹æ³•æ˜¯å°†å‰ªåˆ‡æ¿å¸®é¡¶ä¸º `; y` è¿™æ ·ä¹Ÿéå¸¸æ–¹ä¾¿ã€‚

```sh
sudo apt install vim git
sudo apt install vim-gtk  # å°†vimå’Œå‰ªåˆ‡æ¿ç»‘å®šçš„è½¯ä»¶
sudo apt install vim-gtk3  # Ubuntu24.04å®‰è£…åŒ…çš„åç§°å˜äº†
```

{% spoiler ï¼ˆå¯é€‰ï¼‰å°†ç³»ç»Ÿå‰ªåˆ‡æ¿ä¸vimç»‘å®š %}
åœ¨ `.vimrc` ä¸­åŠ å…¥é…ç½®
```vim
" å°†ç³»ç»Ÿå‰ªåˆ‡æ¿å’Œvimç»‘å®šåœ¨ä¸€èµ·
set clipboard=unnamedplus

" æˆ–è€…è®¾ç½®å¤åˆ¶å‘½ä»¤ä¸º `; y`
map ;y "+y
```
{% endspoiler %}

å¹¶è®¾ç½®gitçš„SSH keyå¹¶ä¸Šä¼ åˆ°è‡ªå·±çš„GitHubä¸Šï¼š

```sh
ssh-keygen -t rsa -b 4096  # ç”Ÿæˆsshå¯†é’¥
vim ~/.ssh/id_rsa.pub  # å¤åˆ¶å†…éƒ¨çš„å…¨éƒ¨æ–‡å­—ï¼Œæ‹·è´åˆ°Settings - SSH and GPG keys - New SSH keyç²˜è´´è¿›å»
```

ä¿å­˜GitHubç™»é™†å¯†ç ï¼Œç”±äºç°åœ¨GitHubä½¿ç”¨tokenè¿›è¡Œç™»é™†ï¼Œä¸ºäº†é¿å…æ¯æ¬¡éƒ½è¦æ‹·è´ï¼Œå¯ä»¥åªè¾“å…¥ä¸€æ¬¡ï¼Œç„¶åè®¾ç½®gitå­˜å‚¨ä¸‹æ¥ï¼Œä»¥åå°±ä¸ç”¨å†æ‰¾äº†ï¼š

```sh
git config --global credential.helper store  # è®¾ç½®ä¸ºå­˜å‚¨å¯†ç 
# åœ¨ä¸‹æ¬¡è¦æ±‚è¾“å…¥å¯†ç æ—¶ï¼Œä»Settings - Developer settings(æœ€ä¸‹é¢) - Personal access tokens - Tokens(classic) - Generate new token - Generate new token(classic) ç„¶åå…¨éƒ¨é€‰ä¸­ï¼ˆå¯ä»¥é€‰æ‹©æ°¸ä¹…æ—¶é•¿çš„ï¼‰ï¼Œæœ€åç”Ÿæˆï¼Œæ‹·è´ç»™å‡ºçš„token,è¾“å…¥åˆ°shellä¸­ç™»é™†ï¼Œä»¥åå°±å†ä¹Ÿä¸ç”¨è¾“å…¥uå¯†ç äº†
```

ä¸‹è½½zshå’Œoh-my-zshï¼Œä½¿ç”¨å›½å†…çš„é•œåƒï¼Œå›½å¤–çš„å¯èƒ½æ— æ³•ä¸‹è½½ä¸‹æ¥ï¼š

```sh
sudo apt install zsh
# å›½å†…ä¸‹è½½å¹¶å®‰è£…é“¾æ¥
sh -c "$(wget -O- https://gitee.com/mirrors/oh-my-zsh/raw/master/tools/install.sh)"
# å›½å¤–ä¸‹è½½å¹¶å®‰è£…é“¾æ¥
sh -c "$(wget -O- https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"
```

å¯ä»¥ç›´æ¥ä»[æˆ‘çš„dotfiles](https://github.com/wty-yy/dotfiles)ä¸­é…ç½®zshï¼Œoh-my-zshï¼Œvimï¼Œä»‹ç»å†…å®¹å·²ç»å†™çš„éå¸¸è¯¦ç»†äº†ï¼Œæœ‰ä¸€é”®å®‰è£…è„šæœ¬ã€‚

### Clashå®‰è£…ã€å¿«æ·æ–¹å¼ã€è‡ªåŠ¨å¯åŠ¨

**Clashç§‘å­¦ä¸Šç½‘**ï¼šæˆ‘ä½¿ç”¨çš„æ˜¯ Clash for windows ä¹Ÿå°±æ˜¯å¯è§†åŒ–çš„Clashï¼Œä¸‹è½½é“¾æ¥ [Github - clashdownload](https://github.com/clashdownload/Clash_for_Windows/releases)ï¼Œå‚è€ƒæ•™ç¨‹ï¼š[Linux/ubuntuä¸‹å®ç°ç§‘å­¦ä¸Šç½‘ä½¿ç”¨ clash for windows è¯¦ç»†æ­¥éª¤](https://www.cfmem.com/2021/09/linux-clash-for-windows-vpnv2ray.html)ï¼Œå¯¹åº”çš„YouTubeæ•™ç¨‹ï¼šhttps://www.youtube.com/watch?v=pTlso8m_iRk&t=314s

æ–°çš„è‡ªå¯åŠ¨æ–¹æ³•ï¼šï¼ˆå‰æå…ˆè¦å®Œæˆä¸‹é¢çš„è‡ªå®šä¹‰èœå•ï¼Œå°†ClashåŠ å…¥èœå•å¿«æ·æ–¹å¼åï¼‰å®‰è£…å®Œä¸Šè¿°çš„ `gnome-tweaks` åï¼Œæ‰“å¼€ `tweaks` æ‰¾åˆ°å·¦ä¾§ `Startup Applications`ï¼Œç‚¹å‡» `+` å·æ·»åŠ èœå•å¿«æ·æ–¹å¼åˆ°è‡ªå¯åŠ¨ä¸­ã€‚
![tweaksä¸­è®¾ç½®è‡ªå¯åŠ¨](/figures/My_Ubuntu.assets/tweaks_autostart.png)

{% spoiler ç‚¹å‡»æ˜¾/éš æ—§è‡ªå¯åŠ¨æ–¹æ³• %}
è®¾ç½®å¼€æœºè‡ªå¯ï¼Œåœ¨ç›®å½• `~/.config/autostart/` ä¸‹ç”¨vimç¼–è¾‘ `clash.desktop` æ–‡ä»¶å¹¶ä¿å­˜

```vim
[Desktop Entry]
Name=Clash
Type=Application
Exec=/home/wty/Programs/Clash/cfw
```
{% endspoiler %}

#### è‡ªå®šä¹‰èœå•

å‚è€ƒYouTubeæ•™ç¨‹ï¼š[How to add appimage to Linux menu](https://www.youtube.com/watch?v=gdYp2d_p8T0)ï¼Œç½‘é¡µæ•™ç¨‹æ¥è‡ª [archLinux Desktop entries](https://wiki.archlinux.org/title/desktop_entries)ï¼Œä»¥åˆ›å»º `clash` çš„å¿«æ·æ–¹å¼ä¸ºä¾‹ï¼š

```sh
cd ~/.local/share/applications/  # è¯¥æ–‡ä»¶å¤¹å­˜å‚¨ .desktop åç¼€çš„æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶çš„æ ¼å¼å¦‚ç½‘ç«™ä¸­æ‰€æè¿°ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­
vim clash.desktop
```

```sh
[Desktop Entry]
# æ–‡ä»¶ç±»å‹
Type = Application
# æ–‡ä»¶åç§°ï¼Œç”¨äºæœç´¢
Name = Clash
# æ–‡ä»¶çš„å¯æ‰§è¡Œæ–‡ä»¶ç»å¯¹è·¯å¾„
Exec = /home/wty/Programs/Clash/cfw
# å¯é€‰é¡¹ï¼Œæ–‡ä»¶å›¾æ ‡ï¼Œä»ç½‘ä¸Šä¸‹è½½ä¸‹æ¥å³å¯
Icon = /home/wty/Pictures/icons/clash.png
```

> è¿™é‡Œç»™å‡ºæˆ‘çš„[Clashå›¾æ ‡é“¾æ¥](/figures/My_Ubuntu.assets/clash_icon.png)

```sh
# ä½¿ç”¨ä¸‹é¢ä»£ç æ£€æŸ¥æ­£ç¡®æ€§
desktop-file-validate clash.desktop
# ä¿å­˜æ–‡ä»¶åï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤åˆ·æ–°èœå•ï¼Œå®Œæˆé…ç½®
update-desktop-database ~/.local/share/applications
```

![è‡ªå®šä¹‰èœå•æ•ˆæœå›¾](/figures/My_Ubuntu.assets/è‡ªå®šä¹‰èœå•æ•ˆæœå›¾.png)

### æ˜Ÿç«å•†åº—
æ˜Ÿç«å•†åº—æ˜¯ä¸€æ¬¾å›½äº§å¼€æºè½¯ä»¶å®‰è£…å¹³å°ï¼Œå¯ä»¥éå¸¸æ–¹ä¾¿åœ°å®‰è£…ï¼šQQ, å¾®ä¿¡, ç½‘æ˜“äº‘, WPS, VSCodeã€‚

2024.06.12 æ›´æ–°ï¼šåæ¥æ‰å‘ç°[æ˜Ÿç«åº”ç”¨å•†åº—](https://www.spark-app.store/)è¿™ä¸ªå›½äº§çš„å¥½ä¸œè¥¿ï¼Œæˆ‘åœ¨ Ubuntu 22.04 å’Œ Ubuntu 24.04 ä¸Šéƒ½è¿›è¡Œäº†æµ‹è¯•ï¼Œå¦‚ä¸‹å®‰è£…æ–¹æ³•æ²¡æœ‰é—®é¢˜ï¼Œé¦–å…ˆåˆ°[gitee - æ˜Ÿç«åº”ç”¨å•†åº— Spark-Store](https://www.spark-app.store/download_latest)ä¸Šä¸‹è½½æœ€æ–°çš„ `*_amd64.deb`ï¼š
```bash
sudo apt install *_amd64.deb  # å¯èƒ½å‡ºç°æŠ¥é”™
```
å¦‚æœä¸Šè¿°å‘½ä»¤å‡ºç°æŠ¥é”™ï¼Œæˆ‘ä»¬è®°å½•ä¸‹ç¼ºçš„æ˜¯ä»€ä¹ˆåŒ…ï¼Œä¾‹å¦‚æˆ‘çš„æ˜¯`dpkg-dev`ï¼Œä¸€èˆ¬æ˜¯å…¶ä»–åŒ…çš„ç‰ˆæœ¬è¿‡é«˜å¯¼è‡´çš„æˆ‘ä»¬åˆéœ€è¦`aptitude`å¯¹å…¶ä»–åŒ…è¿›è¡Œé™çº§ï¼š
```bash
sudo apt install aptitude
sudo aptitude install [ä½ ç¼ºçš„åŒ…]
# æˆ‘ä»¬çœ‹è¿”å›çš„ä»‹ç»ä¿¡æ¯, ä¸€ç›´æŒ‰nå›è½¦, ç›´åˆ°å‡ºç°downgradeå¹¶å®‰è£…æˆ‘ä»¬è¦è£…çš„åŒ…, å†æŒ‰yå›è½¦å³å¯
```
å®‰è£…å®Œæˆç¼ºå¤±çš„åŒ…åï¼Œæˆ‘ä»¬å†ç”¨`sudo apt install *_amd64.deb`å®‰è£…æ˜Ÿç«å•†åº—å°±èƒ½æˆåŠŸäº†ï¼

å®‰è£…å®Œæ¯•åï¼šåœ¨èœå•ä¸­æ‰“å¼€ spark-storeï¼Œæœç´¢ QQ, WeChat, ç½‘æ˜“äº‘ç›´æ¥å®‰è£…å³å¯ã€‚

{% spoiler "ä¹‹å‰åˆ†åˆ«å®‰è£…VSCode, QQ, WeChat, ç½‘æ˜“äº‘çš„è¯¦ç»†è¿‡ç¨‹" %}
**VSCode**å®‰è£…å‚è€ƒï¼š[Ubuntu 20.04 æ­£ç¡®å®‰è£…æ”¯æŒä¸­æ–‡è¾“å…¥çš„ VS Code](https://cyfeng.science/2021/05/20/vs-code-chinese-input/)ï¼Œä¸è¦ä½¿ç”¨snapæ–¹æ³•ä¸‹è½½çš„VSCodeï¼Œä¸ç„¶æ— æ³•è¾“å…¥ä¸­æ–‡ã€‚

```sh
wget -q https://packages.microsoft.com/keys/microsoft.asc -O- | sudo apt-key add -
sudo add-apt-repository "deb [arch=amd64] https://packages.microsoft.com/repos/vscode stable main"
sudo apt update && sudo apt install code
```

**æ–°ç‰ˆQQ**ï¼šhttps://im.qq.com/linuxqq/index.shtml

**å¾®ä¿¡**ï¼šä½¿ç”¨windowsç§»æ¤ç‰ˆæœ¬deepin-wineï¼šhttps://github.com/zq1997/deepin-wine

```sh
wget -O- https://deepin-wine.i-m.dev/setup.sh | sh
sudo apt install com.qq.weixin.deepin
# å¦‚æ— æ³•å‘é€ç…§ç‰‡
sudo apt install libjpeg62:i386
# ç„¶ååœ¨.zshrcä¸­åŠ å…¥wechatçš„å¿«æ·å‘½ä»¤ï¼Œä¾¿äºç›´æ¥æ‰“å¼€ï¼Œæˆ–è€…ç±»ä¼¼ä¸‹é¢clashçš„æ–¹å¼åˆ›å»ºå¿«æ·æ–¹å¼
alias wechat=/opt/apps/com.qq.weixin.deepin/files/run.sh
```

> å¾®ä¿¡åˆ†è¾¨ç‡å¤ªå°è§£å†³æ–¹æ³•ï¼š[Ubuntu22 å®‰è£…å¾®ä¿¡åç¨‹åºç•Œé¢ã€å­—ä½“å’Œæ‰˜ç›˜åŒºå›¾æ ‡éƒ½ç‰¹åˆ«å°](https://github.com/zq1997/deepin-wine/issues/330)
> **å…ˆå…³é—­å¾®ä¿¡**ï¼Œå†æ‰§è¡Œä»¥ä¸‹ä»£ç ï¼Œåœ¨å…¶ä¸­æ‰¾åˆ°Graphicé€‰é¡¹ï¼Œå°†Screen resolutionè°ƒå¤§å³å¯

```shell
WINEPREFIX=~/.deepinwine/Deepin-WeChat deepin-wine6-stable winecfg
```

**ç½‘æ˜“äº‘**æ˜¯19å¹´ç‰ˆæœ¬ï¼Œä½†æ˜¯åŠŸèƒ½ä»ç„¶é½å…¨è›®è€—ç”¨ï¼š

```sh
# é¦–å…ˆä¸‹è½½å®‰è£…åŒ…åˆ° ~/Downloads
wget -P ~/Downloads https://d1.music.126.net/dmusic/netease-cloud-music_1.2.1_amd64_ubuntu_20190428.deb
# å®‰è£…ç½‘æ˜“äº‘
sudo dpkg -i ~/Downloads/netease-cloud-music_1.2.1_amd64_ubuntu_20190428.deb
```

ç”±äºåŠ¨æ€é“¾æ¥åº“é—®é¢˜ï¼Œéœ€è¦ç¼–è¾‘ç½‘æ˜“äº‘è„šæœ¬ä½ç½® `/opt/netease/netease-cloud-music/netease-cloud-music.bash`ï¼š

```sh
sudo vim /opt/netease/netease-cloud-music/netease-cloud-music.bash
```

åœ¨ç¬¬6è¡Œå’Œç¬¬7è¡Œä¹‹é—´åŠ ä¸Š `cd /lib/x86_64-linux-gnu/` å³å¯ï¼Œåœ¨ç»ˆç«¯ä¸­æ‰§è¡Œ `netease-cloud-music ` å¯ä»¥å¯åŠ¨ï¼Œä¹Ÿå¯åœ¨åº”ç”¨ç•Œé¢ç›´æ¥å¯åŠ¨ã€‚ï¼ˆå‚è€ƒåšå®¢çš„è¯„è®ºï¼š[Ubuntu 22.4ç½‘æ˜“äº‘éŸ³ä¹å¯åŠ¨å¤±è´¥å¤„ç†æ–¹æ³•](https://blog.csdn.net/luoweid/article/details/124484949)ï¼‰

![ç½‘æ˜“äº‘è„šæœ¬ä¿®æ”¹](/figures/My_Ubuntu.assets/ç½‘æ˜“äº‘è„šæœ¬ä¿®æ”¹.png)
{% endspoiler %}

### LaTeX

LaTeXçš„å®‰è£…åŒ…å’ŒWindowsé€šç”¨ï¼ŒLaTeXå®‰è£…å‚è€ƒ [çŸ¥ä¹ - Ubuntu(20.04 LTS) OS ä¸‹ VS Code + LaTeX å¿«é€Ÿé…ç½®æŒ‡å—](https://zhuanlan.zhihu.com/p/136209984)ã€‚

```sh
# åŠ å…¥åˆ°./zshrcæˆ–è€…./bashrcä¸­ï¼Œæˆ‘è£…çš„æ˜¯2021ç‰ˆæœ¬çš„ï¼Œå…·ä½“æ ¹æ®è‡ªå·±å®‰è£…çš„ç‰ˆæœ¬å†™
export PATH=/usr/local/texlive/2021/bin/x86_64-linux:$PATH
export PATH=/usr/local/texlive/2021/texmf-dist/scripts/latexindent:$PATH
export MANPATH=/usr/local/texlive/2021/texmf-dist/doc/man:$MANPATH
export INFOPATH=/usr/local/texlive/2021/texmf-dist/doc/info:$INFOPATH
```

**ä¸­æ–‡å­—ä½“é…ç½®**ï¼Œé…ç½®ç»™å®šçš„å­—ä½“ï¼Œè‹±æ–‡å­—ä½“æ—é…ç½®æ•™ç¨‹ï¼ˆä¸­æ–‡ç±»ä¼¼ï¼‰ï¼š[Specify different fonts for bold and italic with fontspec](https://tex.stackexchange.com/questions/31739/specify-different-fonts-for-bold-and-italic-with-fontspec)ï¼Œå…¨éƒ¨ä¸ºä»¥ä¸‹10ä¸ªå­—ä½“ï¼ˆå‡å·²æ”¾åˆ° `Latex-Product/Fonts` ä¸‹ï¼‰ï¼Œå…¨éƒ¨å®‰è£…å®Œæˆåå°±å¯ä»¥ç›´æ¥è¿è¡Œæˆ‘çš„LaTeXæ–‡ä»¶äº†ã€‚

![å…¨éƒ¨å­—ä½“](/figures/My_Ubuntu.assets/å…¨éƒ¨å­—ä½“.png)

ç”±äºLaTeXå¯ä»¥ç›´æ¥ä½¿ç”¨åˆ°ç”¨æˆ·å®‰è£…çš„å­—ä½“ï¼Œæ‰€ä»¥åªè¦æ‰¾åˆ°å­—ä½“çš„æ­£ç¡®åç§°å³å¯ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ‰¾åˆ°ç›¸åº”çš„å­—ä½“ï¼š

```sh
sudo fc-cache -fv  # æ›´æ–°å­—ä½“ç¼“å­˜
fc-list | grep "home"  # fc-list åˆ—å‡ºæ‰€æœ‰å­—ä½“ï¼Œgrep "home" ç­›é€‰å‡ºè·¯å¾„ä¸­åŒ…å« "home" çš„å­—ä½“
```

é€šè¿‡ä¸Šè¿°æ–¹æ³•å¯ä»¥æ‰¾åˆ°ç›¸åº”çš„å­—ä½“ï¼Œçœ‹åˆ° `.ttf` æ–‡ä»¶åçš„åç§°å°±æ˜¯åœ¨LaTeXä¸­é…ç½®çš„åç§°ï¼š

![æ˜¾ç¤ºç”¨æˆ·ç›®å½•ä¸‹å·²æœ‰å­—ä½“](/figures/My_Ubuntu.assets/æ˜¾ç¤ºå·²æœ‰å­—ä½“.png)

### WPSç¼ºå¤±å­—ä½“åŠPDFå¯¼å‡ºé—®é¢˜

> æ˜Ÿç«å•†åº—ä¸­å®‰è£…çš„è²Œä¼¼ä¿®å¤æ­¤é—®é¢˜äº†

**WPS 2019**ï¼šhttps://www.wps.cn/product/wpslinux

ç¼ºå¤±å›¾åƒå­—ä½“ä»è¿™é‡Œä¸‹è½½ [ç™¾åº¦ç½‘ç›˜ - wps_symbol_fonts](https://pan.baidu.com/s/1bFmSqWVDxc7Kc4kbJt3uEQ?_at_=1680680543255)ï¼Œæå–ç ï¼šm5jwï¼Œå°†è§£å‹åçš„æ–‡ä»¶å¤¹æ”¾åˆ°ç”¨æˆ·å­—ä½“ç›®å½• `~/.local/share/fonts` ä¸­ç„¶åé‡å¯wpsè§£å†³é—®é¢˜ã€‚
![wpsè§£å†³ç¡®å®å­—ä½“é—®é¢˜](/figures/My_Ubuntu.assets/wpsè§£å†³ç¼ºå¤±å­—ä½“é—®é¢˜.png)

2024.5.24æ›´æ–°ï¼šUbuntu 24.04ä¸­å‡ºç°**æ— æ³•æ‰“å¼€ä¸å¯¼å‡ºPDF**ï¼ŒåŸå› åœ¨äºUbuntu 23.04ä¹‹åå°±æ›´æ–°ä¸º`libtiff.so.6`ï¼Œå› æ­¤WPSæ— æ³•æ‰¾åˆ° `libtiff.so.5` æ–‡ä»¶ï¼Œéœ€è¦åˆ›å»ºä¸€ä¸ªè½¯è¿æ¥æŒ‡å‘ `libtiff.so.6`ï¼š
```
cd /usr/lib/x86_64-linux-gnu
sudo ln -s libtiff.so.6 libtiff.so.5
```

### å®‰è£…g++, miniforge

```sh
sudo apt install g++  # gccæ— éœ€å®‰è£…ï¼Œç³»ç»Ÿè‡ªå¸¦
```

é€šè¿‡miniforgeä¸­baseç¯å¢ƒä¸‹çš„pythonä½œä¸ºç³»ç»Ÿé»˜è®¤pythonï¼Œä» [GitHub - miniforge](https://github.com/conda-forge/miniforge/releases) ä¸Šç›´æ¥ä¸‹è½½å®‰è£…åŒ…ï¼Œç°åœ¨æ¨èå®‰è£… mambaforgeï¼Œå®‰è£…æ–¹æ³•å’ŒåŠŸèƒ½ä¸miniforgeå®Œå…¨ä¸€æ ·ï¼Œåªä¸è¿‡ç”¨mambaå‘½ä»¤ä»£æ›¿condaï¼Œå¹¶ä¸”æœ‰å¤šçº¿ç¨‹ä¸‹è½½ï¼Œä¸‹è½½é€Ÿåº¦èµ·é£ï¼

```sh
chmod 777 Mambaforge-23.1.0-1-Linux-x86_64.sh  # èµ‹äºˆå¯æ‰§è¡Œæƒé™
./Mambaforge-23.1.0-1-Linux-x86_64.sh  # å¼€å§‹å®‰è£…ï¼Œè‡ªè¡Œè®¾å®šå®‰è£…ä½ç½®
# åœ¨å®‰è£…é€‰é¡¹æœ€åé€‰æ‹©æ˜¯å¦é»˜è®¤æ‰“å¼€ï¼Œéœ€è¦è¾“å…¥yå›è½¦
```
è¿™æ ·é‡å¯ç»ˆç«¯å°±èƒ½çœ‹åˆ°é»˜è®¤è¿›å…¥baseç¯å¢ƒäº†ï¼Œå¦‚æœå®‰è£…æœ€åå¿˜è®°é…ç½®äº†ï¼Œæˆ‘ä»¬è¿›å…¥`mambaforge`å®‰è£…æ–‡ä»¶å¤¹ä¸‹æ‰¾åˆ°`mamba`ï¼Œæ‰§è¡Œ`mamba init`å³å¯ã€‚

{% spoiler é…ç½®ç§°é»˜è®¤pythonï¼ˆæ— éœ€æ­¤æ“ä½œäº†ï¼Œå› ä¸ºé»˜è®¤å°±å¯ä»¥è¿›å…¥baseç¯å¢ƒä¸‹ï¼Œä¹Ÿå°±æ˜¯å¯åŠ¨äº†pythonï¼‰ %}
æœ€ååœ¨ `~/.zshrc` ä¸­é…ç½®ä¸ºé»˜è®¤pythonï¼š

```sh
# å°†miniforge baseç¯å¢ƒä½œä¸ºé»˜è®¤python
export PATH="$HOME/Programs/miniforge3/bin:$PATH"
```
{% endspoiler %}

å®‰è£…å®Œpythonåç¬¬ä¸€ä»¶äº‹è¿˜æ˜¯æ¢æºï¼ˆç°åœ¨ä¸æ¢æºå¥½åƒä¹ŸæŒºå¿«çš„ğŸ˜»ï¼‰ï¼š[conda æ¸…åæº](https://mirrors.tuna.tsinghua.edu.cn/help/anaconda/)ï¼Œ[pip æ¸…åæº](https://mirrors.tuna.tsinghua.edu.cn/help/pypi/)ã€‚

### å®‰è£…Blogé…ç½®

å¦‚æœä½ æœ‰è‡ªå·±çš„åšå®¢ï¼Œå¯ä»¥å‚è€ƒ[æˆ‘çš„Blogé…ç½®](https://github.com/wty-yy/Blog-SourceCode)ä¸­çš„å®‰è£…nvm, nodejs, npm, cnpm, hexoçš„æ–¹æ³•ï¼ˆå¹¶ä¸”æ¢æºï¼Œç®€å•æœ‰æ•ˆï¼‰

### å®‰è£…TensorFlow & Jupyter

ç”±äºæ²¡æœ‰æ˜¾å¡ï¼Œç›´æ¥ä½¿ç”¨pipå®‰è£…TensorFlowï¼ŒJupyter notebookå»ºè®®ä½¿ç”¨mambaå®‰è£…ã€‚

```sh
pip install tensorflow
mamba install jupyter notebook
```

åœ¨Jupyterä¸­ä½¿ç”¨Vimæ–¹æ³•è§ï¼š[æ€ä¹ˆåœ¨Jupyter Notebooké‡Œä½¿ç”¨vimï¼Ÿ](https://www.zhihu.com/question/384989800)ï¼Œå®‰è£…ä¸»é¢˜è§ï¼š[Jupyter notebook  ä¸»é¢˜é¢œè‰²é…ç½®](https://wty-yy.space/posts/18857/#%E4%B8%BB%E9%A2%98%E9%A2%9C%E8%89%B2%E9%85%8D%E7%BD%AE)ã€‚

**Matplotlibç»˜å›¾ä¸­æ–‡å­—ä½“æ— æ³•æ˜¾ç¤º**ï¼šé¦–å…ˆåœ¨è¯¥ç½‘ç«™ [ä¸‹è½½SimHei.ttf](https://www.fontpalace.com/font-details/SimHei/) å­—ä½“ï¼Œå…ˆç›´æ¥è¿›è¡Œå®‰è£…ï¼Œçœ‹æ˜¯å¦å¯ä»¥æ˜¾ç¤ºï¼Œå¦‚æœä¸è¡Œåˆ™è¿›è¡Œä»¥ä¸‹æ“ä½œï¼šåœ¨Jupyter Notebookä¸­æ‰§è¡Œä»¥ä¸‹ä»£ç ï¼Œæ‰¾åˆ° `mpl-data` æ–‡ä»¶å¤¹

```python
import matplotlib
matplotlib.matplotlib_fname()
```

è¿›å…¥ `.../site-packages/matplotlib/mpl-data/fonts/ttf` ä¸­ï¼Œå°†åˆšåˆšä¸‹è½½çš„å­—ä½“å¤åˆ¶è¿›æ¥ï¼Œç„¶åé‡å¯å†…æ ¸å³å¯æ˜¾ç¤ºä¸­æ–‡å­—ä½“ã€‚

## Ubuntuä¼˜åŒ–

### å¼€å¯ä¼‘çœ æ¨¡å¼
å‚è€ƒå¦ä¸€ç‰‡åšæ–‡ [Ubuntu 22.04 è®¾ç½®ä¼‘çœ é€‰é¡¹](/posts/51985/)

### Firefoxæµè§ˆå™¨åŒæŒ‡ç¼©æ”¾
> Ubuntu24.04åœ¨waylandæ¨¡å¼ä¸‹é»˜è®¤å°±å¼€å¯äº†å¤šæŒ‡æ“ä½œåŠŸèƒ½äº†ï¼Œéå¸¸æ–¹ä¾¿ã€‚

å‚è€ƒ [CSDN - Ubuntu Linuxä¸‹å¼€å¯Firefoxæµè§ˆå™¨å¯¹è§¦å±ç¼©æ”¾çš„æ”¯æŒ](https://blog.csdn.net/weixin_36138462/article/details/116952566)ï¼Œä¿®æ”¹é…ç½®æ–‡ä»¶ `/etc/security/pam_env.conf`ï¼Œåœ¨æœ€åä¸€è¡ŒåŠ ä¸Š `MOZ_USE_XINPUT2 DEFAULT=1`ï¼š
```sh
sudo gedit /etc/security/pam_env.conf
```
![Firefoxæµè§ˆå™¨åŒæŒ‡ç¼©æ”¾é…ç½®1.png](/figures/My_Ubuntu.assets/Firefoxæµè§ˆå™¨åŒæŒ‡ç¼©æ”¾é…ç½®1.png)

å¹¶ä¸”åœ¨Firefoxæµè§ˆå™¨ä¸­ç½‘å€æ è¾“å…¥ `about:config`ï¼ŒæŸ¥æ‰¾ `dom.w3c_touch_events.enabled` å¹¶è®¾ç½®ä¸º `1`ï¼š
![Firefoxæµè§ˆå™¨åŒæŒ‡ç¼©æ”¾é…ç½®2.png](/figures/My_Ubuntu.assets/Firefoxæµè§ˆå™¨åŒæŒ‡ç¼©æ”¾é…ç½®2.png)

ç™»å‡ºå†ç™»å…¥å³å¯è§£å†³é—®é¢˜ï¼

### ä¸­æ–‡å­—ä½“æ˜¾ç¤ºé—®é¢˜

å‚è€ƒæ–‡ç«  [CSDN - Ubuntuæ·»åŠ å’Œè®¾ç½®é»˜è®¤ä¸­æ–‡å­—ä½“](https://blog.csdn.net/mbdong/article/details/122358856)ã€‚Ubuntuçš„é»˜è®¤ä¸­æ–‡å­—ä½“æ˜¯éŸ©è¯­ä¸­çš„æ±‰å­—ï¼Œéƒ¨åˆ†å­—ä½“éå¸¸éš¾çœ‹ï¼Œè€Œä¸”æœ‰äº›ç¹ä½“å’Œç®€ä½“ä¸åˆ†ï¼Œä¾‹å¦‚â€œå°†â€å’Œâ€œå¾„â€è¿™äº›å­—ï¼Œä¿®æ”¹æ–‡ä»¶
- Ubuntu 22.04: `sudo vim /etc/fonts/conf.d/64-language-selector-prefer.conf`
- Ubuntu 24.04: `sudo vim /etc/fonts/conf.d/64-language-selector-cjk-prefer.conf`

ç„¶åå°†å¸¦æœ‰ `SC` çš„å­—ä½“æåˆ°ç¬¬ä¸€ä½ï¼ˆ`CaskaydiaCove Nerd Font`è¿™ä¸ªå­—ä½“æ˜¯æˆ‘å–œæ¬¢ç”¨çš„ç­‰å®½å­—ä½“ï¼Œå¯ä»¥åœ¨ [GitHub - nerd font - CascadiaCode.zip](https://github.com/ryanoasis/nerd-fonts/releases/download/v2.3.3/CascadiaCode.zip) ä¸‹è½½åˆ°è¯¥å­—ä½“ï¼‰ï¼š
> æŸ¥æ‰¾å¯ç”¨å­—ä½“è¯¦ç»†å…¨ç§°ï¼Œå¯ä»¥é€šè¿‡ `fc-list | grep "ä½ æƒ³æ‰¾çš„å­—ä½“åç§°"` æŸ¥æ‰¾

![ä¸­æ–‡å­—ä½“ä¿®æ­£](/figures/My_Ubuntu.assets/ä¸­æ–‡å­—ä½“ä¿®æ­£.png)

ç™»å‡ºç”¨æˆ·ï¼Œå†ç™»å…¥å³å¯çœ‹åˆ°ä¿®æ”¹åçš„æ•ˆæœã€‚

> éå¸¸å¯æƒœï¼ŒGNOMEçš„ç»ˆç«¯ä¸­ä½¿ç”¨ä»£ç è¿å­—ç¬¦ï¼ˆLigatureï¼‰çš„åŠŸèƒ½ï¼Œå‚è€ƒ [How can I enable firacode ligature on gnome-terminal?](https://askubuntu.com/questions/1447271/how-can-i-enable-firacode-ligature-on-gnome-terminal)

### ä¸»é¢˜é…ç½®-èƒŒæ™¯å†™å­—

ï¼ˆç”±äºæ— æ³•ä¸ä¸‰æŒ‡åˆ‡æ¢é…åˆï¼Œåˆ‡æ¢æ—¶å­—ä¼šæ˜¾ç¤ºå‡ºæ¥ï¼Œå¾ˆéš¾çœ‹ï¼Œæ‰€ä»¥å¼ƒç”¨ï¼‰

{% spoiler "ä¹‹å‰å®‰è£…èƒŒæ™¯å†™å­—çš„è¯¦ç»†è¿‡ç¨‹" %}
ä¹‹å‰ä½¿ç”¨çš„æ˜¯closebox73çš„ [GitHub - Taurus](https://github.com/closebox73/Taurus) ä¸­çš„ Pleioneï¼ŒåŸºäºConkyå®ç°ï¼Œå¤©æ°”ä¿®æ”¹æ–¹æ³•è§ [applying-theme](https://github.com/closebox73/applying-theme)ã€‚

éœ€è¦ä¿®æ”¹åŸå¸‚ä¸ºå½“å‰æ‰€åœ¨åŸå¸‚ï¼Œè¿™æ ·å¯ä»¥æ˜¾ç¤ºæ­£ç¡®çš„å¤©æ°”ï¼š

```sh
vim /home/wty-yy/.config/conky/Pleione/scripts/weather.sh
```

åœ¨ https://openweathermap.org/find ä¸­æ‰¾åˆ°å¯¹åº”çš„åŸå¸‚ç¼–å·ï¼ˆç½‘å€çš„æœ€åä¸€ä¸²æ•°å­—ï¼Œä¾‹å¦‚æˆ‘çš„æ˜¯ `1790630`ï¼‰ï¼Œä¿®æ”¹

```sh
city_id=1790630
```

æœ€åä¿®æ”¹æ—¥æœŸæ˜¾ç¤ºä¸ºè‹±æ–‡ï¼š

![ä¿®æ”¹æ—¶é—´æ˜¾ç¤º](/figures/My_Ubuntu.assets/ä¸»é¢˜ä¼˜åŒ–-ä¿®æ”¹æ—¶é—´æ˜¾ç¤º.png)
{% endspoiler %}

### è‡ªå®šä¹‰åŠ¨æ€å£çº¸

ä½¿ç”¨Ubuntuè‡ªå¸¦çš„Shotwellå°±èƒ½å®ç°è‡ªå®šä¹‰åŠ¨æ€å£çº¸ï¼Œé¦–å…ˆç¡®å®šå£çº¸æ–‡ä»¶å¤¹ï¼Œç„¶åæ‰“å¼€Shotwellï¼Œç‚¹å‡»å·¦ä¸Šè§’ File - Import from folder é€‰æ‹©ä½ çš„å›¾ç‰‡æ–‡ä»¶å¤¹ï¼Œç„¶åç‚¹å‡» Import åŠ è½½è¿›æ¥ï¼Œæœ€åé€‰ä¸­ä½ è¦æ’­æ”¾çš„å›¾ç‰‡ï¼Œåœ¨ç‚¹å‡»å·¦ä¸Šè§’ File - Set as Desktop Sildeshowï¼Œè‡ªå·±è®¾å®šè½¬æ¢æ—¶é—´å³å¯ã€‚

![è‡ªå®šä¹‰åŠ¨æ€å£çº¸](/figures/My_Ubuntu.assets/è‡ªå®šä¹‰åŠ¨æ€å£çº¸.png)

## Ubuntuå¸¸ç”¨å¿«æ·é”®

### æˆªå›¾

ä½¿ç”¨ï¼µbuntuè‡ªå¸¦çš„æˆªå›¾åŠŸèƒ½ï¼š

```sh
Alt + PrintScreen  # æˆªå–å½“å‰ç¨‹åºçª—å£
PrintScreen  # ä½¿ç”¨è‡ªå¸¦æˆªå›¾å·¥å…·è¿›è¡Œæˆªå›¾
```

## Ubuntuå¸¸ç”¨å·¥å…·

### drawing

ç»˜å›¾å·¥å…·ï¼Œç±»ä¼¼windowsçš„ç”»å›¾ï¼Œå¸¸ä¸æˆªå›¾é”®ç»“åˆ

```sh
sudo apt install drawing
```

### ä¸‹è½½SourceForgeä¸€ä¸ªæ–‡ä»¶å¤¹å†…çš„æ‰€æœ‰æ–‡ä»¶

å‚è€ƒï¼šhttps://stackoverflow.com/questions/39668291/download-whole-folder-from-sourceforgeï¼Œç”¨ç½‘é¡µè¿æ¥æ›¿æ¢æ‰ `<URL>` å³å¯ã€‚

```sh
curl "<URL>" | tr '"' "\n" | grep "sourceforge.net/projects/.*/download"  | sort  | uniq | while read url; do url=`echo $url | sed 's|/download$||'`; wget $url ; done
```

## å¸¸è§é—®é¢˜
### Ubuntuè‡ªåŠ¨æ›´æ–°å†…æ ¸åé»‘å±
æˆ‘çš„æƒ…å†µï¼šæœ‰Nvidiaæ˜¾å¡çš„ç”µè„‘ä¸Šï¼Œå½“Ubuntuè‡ªåŠ¨æ›´æ–°å†…æ ¸åï¼Œç™»å½•ç•Œé¢è¾“å…¥å¯†ç åå°±ä¼šé»‘å±ï¼Œæˆ‘è®¤ä¸ºåŸå› åœ¨äº Nvidia æ˜¾å¡é©±åŠ¨å’Œå†…æ ¸ç‰ˆæœ¬å·ç»‘å®šï¼ŒGnome å¯è§†åŒ–ç•Œé¢åˆå’Œ Nvidia é©±åŠ¨ç»‘å®šï¼Œå› æ­¤éœ€è¦å…ˆé‡è£… Nvidia é©±åŠ¨ï¼Œå†é‡è£… Gnome æ‰èƒ½è§£å†³ï¼Œå…·ä½“æ–¹æ³•ï¼š

1. æŒ‰ `Ctrl + Alt + F3` è¿›å…¥ tty çº¯å‘½ä»¤è¡Œæ¨¡å¼ï¼›
2. é‡è£… Nvidia é©±åŠ¨ï¼Œå‚è€ƒä¸Šæ–‡[nvidiaé©±åŠ¨å®‰è£…](./#nvidiaé©±åŠ¨å®‰è£…)
3. é‡è£… `gnome-shell`ï¼Œä¼šå°† `gdm3, ubuntu-desktop` éƒ½å…¨éƒ¨é‡æ–°å®‰è£…ä¸€é
```bash
sudo apt purge gnome-shell
# å¦‚æœé€€å‡ºäº†å‘½ä»¤è¡Œç•Œé¢ï¼ŒæŒ‰ Ctrl+Alt+F3 é‡æ–°è¿›å…¥
sudo apt install gnome-shell
reboot  # é‡å¯å†è¾“å…¥å‘½ä»¤çœ‹æ˜¯å¦å¯ä»¥è¿›å…¥å¯è§†åŒ–ç•Œé¢
```

å¦‚æœä½ æ—¢æœ‰æ ¸æ˜¾ä¹Ÿæœ‰ç‹¬æ˜¾ï¼Œä¸€å®šè¦æ£€æŸ¥åœ¨BIOSä¸­æ˜¯å¦æŠŠç‹¬æ˜¾æ‰“å¼€ï¼Œå¯ä»¥ä½¿ç”¨`system76-power`æ¥åˆ‡æ¢`nvidia(ç‹¬æ˜¾), integrated(é›†æ˜¾), hybrid(æ··åˆ)`ä¸‰ç§æ¨¡å¼ï¼Œå‚è€ƒ[Graphics Switching (Ubuntu) ](https://support.system76.com/articles/graphics-switch-ubuntu/)ã€‚

### Ubuntuå†…æ ¸åˆ‡æ¢

